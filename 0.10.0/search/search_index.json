{"config":{"lang":["en"],"separator":"[\\s\\-\\.]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"BustAPI","text":"<p>High-performance Python web framework with Rust backend</p> <p> Get Started  GitHub</p>"},{"location":"#what-is-bustapi","title":"What is BustAPI?","text":"<p>BustAPI is a Flask-compatible Python web framework powered by Actix-web (Rust). You write normal Python code, and BustAPI handles requests with Rust-level performance.</p> Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route(\"/\")\ndef hello():\n    return {\"message\": \"Hello, World!\"}\n\n@app.route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):\n    return {\"id\": id, \"name\": f\"User {id}\"}\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"#features","title":"Features","text":"<ul> <li>Flask-like API - Familiar decorators: <code>@app.route()</code>, <code>@app.get()</code>, <code>@app.post()</code></li> <li>Rust Performance - Fast HTTP parsing via Actix-web</li> <li>Turbo Routes - <code>@app.turbo_route()</code> for high-throughput endpoints</li> <li>Multiprocessing - <code>workers=4</code> for parallel request handling on Linux</li> <li>JWT Authentication - Built-in token-based auth</li> <li>Templates - Jinja2 template rendering</li> <li>Blueprints - Modular app organization</li> </ul>"},{"location":"#performance","title":"Performance","text":"<p>Benchmarked with <code>wrk -t4 -c50 -d10s</code> on Python 3.13, Intel i5 (4 cores):</p> Endpoint Linux (4 workers) macOS Windows <code>/</code> (turbo) 105,012 RPS 35,560 RPS 17,772 RPS <code>/json</code> (turbo) 99,142 RPS 27,532 RPS 17,844 RPS <p>Best Performance</p> <p>Use Linux for production to enable <code>SO_REUSEPORT</code> multiprocessing.</p>"},{"location":"#installation","title":"Installation","text":"Bash<pre><code>pip install bustapi\n</code></pre> <p>Supports Python 3.10 - 3.14 on Linux, macOS, and Windows.</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Quickstart Guide - Build your first app</li> <li>Routing Guide - Dynamic paths and methods</li> <li>Turbo Routes - Maximum performance</li> <li>Multiprocessing - Scale to 100k+ RPS</li> <li>JWT Auth - Secure your API</li> </ul>"},{"location":"api-reference/","title":"API Reference","text":""},{"location":"api-reference/#class-bustapi","title":"Class: BustAPI","text":"<p>The main application class. You usually create one instance of this per application.</p> Python<pre><code>class BustAPI(import_name: str = None, static_folder: str = 'static', template_folder: str = 'templates')\n</code></pre>"},{"location":"api-reference/#constructor-arguments","title":"Constructor Arguments","text":"<ul> <li>import_name (<code>str</code>): The name of the application package. Using <code>__name__</code> is standard.</li> <li>static_folder (<code>str</code>): The folder where static files are served from. Default: <code>'static'</code>.</li> <li>template_folder (<code>str</code>): The folder containing Jinja2 templates. Default: <code>'templates'</code>.</li> </ul>"},{"location":"api-reference/#methods","title":"Methods","text":""},{"location":"api-reference/#runhost127001-port5000-debugfalse","title":"<code>run(host='127.0.0.1', port=5000, debug=False)</code>","text":"<p>Starts the development server. This runs a single-process server suitable for development. - host: The hostname to listen on. Set to <code>'0.0.0.0'</code> to make the server available externally. - port: The port to listen on. - debug: If <code>True</code>, enables hot-reloading and debug pages.</p>"},{"location":"api-reference/#routerule-options","title":"<code>route(rule, **options)</code>","text":"<p>A decorator to register a function as a view handler. See Routing for details.</p>"},{"location":"api-reference/#register_blueprintblueprint-options","title":"<code>register_blueprint(blueprint, **options)</code>","text":"<p>Registers a blueprint with the application. - blueprint: The <code>Blueprint</code> instance to register. - url_prefix (optional): Prefix to prepend to all routes in the blueprint.</p>"},{"location":"api-reference/#before_requestf","title":"<code>before_request(f)</code>","text":"<p>Registers a function to run before each request.</p>"},{"location":"api-reference/#after_requestf","title":"<code>after_request(f)</code>","text":"<p>Registers a function to run after each request. Expected to return the response object.</p>"},{"location":"api-reference/#context-proxies","title":"Context Proxies","text":"<p>BustAPI relies on context locals to make global variables like <code>request</code> thread-safe.</p>"},{"location":"api-reference/#request","title":"<code>request</code>","text":"<p>The Request object for the current request. - method (<code>str</code>): HTTP method (GET, POST, etc). - path (<code>str</code>): The path of the request. - args (<code>MultiDict</code>): Parsed query parameters. - form (<code>MultiDict</code>): Parsed form data. - headers (<code>Headers</code>): Incoming request headers. - get_json(force=False, silent=False): Parses body as JSON.</p>"},{"location":"api-reference/#g","title":"<code>g</code>","text":"<p>A general purpose object for storing data during a single request context. Usage span is limited to one request.</p> Python<pre><code>from bustapi import g\n\n@app.before_request\ndef load_user():\n    g.user = get_user()\n</code></pre>"},{"location":"api-reference/#session","title":"<code>session</code>","text":"<p>A dict-like object that stores data across requests using signed cookies. Requires <code>app.secret_key</code> to be set.</p> Python<pre><code>from bustapi import session\nsession['username'] = 'admin'\n</code></pre>"},{"location":"api-reference/#utilities","title":"Utilities","text":"<p>BustAPI provides several helper functions.</p>"},{"location":"api-reference/#jsonifydata","title":"<code>jsonify(data)</code>","text":"<p>Creates a <code>Response</code> with the given data serialized to JSON.</p>"},{"location":"api-reference/#abortstatus_code-descriptionnone","title":"<code>abort(status_code, description=None)</code>","text":"<p>Raises an HTTP exception, stopping request processing immediately.</p>"},{"location":"api-reference/#redirectlocation-code302","title":"<code>redirect(location, code=302)</code>","text":"<p>Returns a response redirecting the client to a new location.</p>"},{"location":"api-reference/#render_templatetemplate_name-context","title":"<code>render_template(template_name, **context)</code>","text":"<p>Renders a template from the templates folder with the given context.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented here.</p>"},{"location":"changelog/#0100-2026-02-02","title":"[0.10.0] - 2026-02-02","text":""},{"location":"changelog/#major-features","title":"Major Features","text":"<ul> <li>WebSocket Configuration:</li> <li>Introduced <code>WebSocketConfig</code> struct accessible from Python.</li> <li>RAM Protection: <code>max_message_size</code> limit enforces strict payload caps.</li> <li>CPU Protection: <code>rate_limit</code> (messages/sec) prevents abuse.</li> <li>Support for <code>heartbeat_interval</code> and connection <code>timeout</code>.</li> <li>Applied to both <code>@app.websocket</code> (Standard) and <code>@app.turbo_websocket</code> (Turbo) routes.</li> </ul>"},{"location":"changelog/#documentation-examples","title":"Documentation &amp; Examples","text":"<ul> <li>Added <code>examples/websockets_demo.py</code> featuring echo, chat, and limits.</li> <li>Added <code>docs/websockets.md</code> with performance guides and configuration details.</li> <li>Consolidated benchmark suite into <code>benchmarks/bustapi_bench.py</code> and <code>benchmarks/comparison_bench.py</code>.</li> </ul>"},{"location":"changelog/#092-2026-01-30","title":"[0.9.2] - 2026-01-30","text":""},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Pre-built Wheel Distribution (#20):</li> <li>Unified CI workflow to build and publish wheels for all platforms:<ul> <li>Linux: x86_64 (glibc + musl), aarch64 (glibc + musl)</li> <li>Windows: x86_64-pc-windows-msvc</li> <li>macOS: x86_64 + aarch64 (Apple Silicon)</li> </ul> </li> <li>Users no longer need Rust toolchain installed to <code>pip install bustapi</code>.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>CI/CD Overhaul:</li> <li>Merged separate <code>pypi.yml</code> into unified <code>ci.yml</code> workflow.</li> <li>Added trusted publishing (OIDC) with API token fallback for PyPI.</li> <li>Wheels and source distribution now automatically uploaded to GitHub Releases.</li> <li>Trigger on version tags (<code>v*</code>) for consistent release process.</li> </ul>"},{"location":"changelog/#091-2026-01-26","title":"[0.9.1] - 2026-01-26","text":""},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>CI/CD Expansion: Added comprehensive cross-platform build support:</li> <li>Alpine Linux (musl): Added <code>musllinux</code> wheels for x86_64 (#14).</li> <li>ARM64 (aarch64): Added support for both glibc (Ubuntu/Debian) and musl (Alpine) on ARM processors.</li> <li>Session Persistence: Fixed bug where <code>session.pop()</code> did not save changes (#17).</li> <li>Template Path: Fixed <code>BustAPI()</code> default template loading when no <code>import_name</code> is provided (#15).</li> <li>Content-Type: <code>render_template</code> now reliably returns <code>text/html</code> headers.</li> </ul>"},{"location":"changelog/#090-2026-01-22","title":"[0.9.0] - 2026-01-22","text":""},{"location":"changelog/#major-features_1","title":"Major Features","text":"<ul> <li>WebSocket Support:</li> <li>Full WebSocket support with <code>@app.websocket()</code> decorator.</li> <li>Integration with <code>actix-ws</code> for heavy lifting in Rust.</li> <li> <p>Python-side API compatible with popular async frameworks.</p> </li> <li> <p>Turbo WebSocket (Performance):</p> </li> <li>New <code>@app.turbo_websocket()</code> decorator for ultra-high performance.</li> <li>Pure Rust Message Handling: Messages are processed entirely in Rust (no Python GIL, no callbacks) for maximum throughput.</li> <li> <p>~74% Performance Boost: Benchmarks show ~17k msg/sec vs ~10k msg/sec for standard mode.</p> </li> <li> <p>Video Streaming &amp; Range Requests:</p> </li> <li>Full support for HTTP <code>Range</code> requests (seeking, scrubbing) via <code>FileResponse</code> and static files.</li> <li>Implemented <code>HEAD</code> method support for all routes to handle browser pre-flight checks correctly.</li> <li> <p>Video streaming is now production-ready (verified with browser tests).</p> </li> <li> <p>Rust-Core Request Logging:</p> </li> <li>Migrated logging logic from Python to Rust for 100% request coverage.</li> <li>Now captures 404 Not Found, Static Files, and Fast Routes which were previously invisible to Python middleware.</li> <li>High-performance, zero-allocation logging with accurate Rust-level latency timings.</li> <li> <p>Removed duplicate logging hooks from Python side.</p> </li> <li> <p>Rust-Based Path Parameter Extraction:</p> </li> <li>Moved regex parsing and parameter extraction to the Rust backend.</li> <li>Significant performance boost for dynamic routes.</li> <li> <p>Supports <code>int</code>, <code>float</code>, <code>path</code>, and strict validation rules entirely in Rust.</p> </li> <li> <p>Developer Experience:</p> </li> <li>Enhanced Hot-Reloader: Cleaner output, suppresses internal noise, and clearly shows changed files.</li> <li><code>bustapi.logging</code>: New customizable logging module for users.</li> </ul>"},{"location":"changelog/#added","title":"Added","text":"<ul> <li><code>src/websocket/mod.rs</code> and <code>session.rs</code> for core WebSocket logic.</li> <li><code>src/websocket/turbo.rs</code> for optimized Rust-only handling.</li> <li><code>examples/advanced/28_websocket.py</code> and <code>29_turbo_websocket.py</code>.</li> <li><code>benchmarks/ws_benchmark.py</code> for testing WebSocket performance.</li> </ul>"},{"location":"changelog/#refactoring","title":"Refactoring","text":"<ul> <li>Modular Application Structure:</li> <li>Refactored <code>app.py</code> into a Mixin-based architecture (<code>RoutingMixin</code>, <code>ExtractionMixin</code>, <code>ContextMixin</code>, <code>HooksMixin</code>) for better maintainability.</li> <li>Improved WSGI/ASGI compatibility with <code>WSGIAdapter</code> mixin.</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Static Route Registration: Fixed a bug where static route patterns were generated without a leading slash.</li> <li>Example Fixes: Updated <code>27_video_stream.py</code> to correctly resolve static folders relative to the script directory.</li> <li>Process Management: Fixed a recursion bug in <code>kill_process</code> utility.</li> </ul>"},{"location":"changelog/#performance","title":"Performance","text":"<ul> <li>Optimized Route Matching: Deterministic scoring system and Rust-side optimizations.</li> </ul>"},{"location":"changelog/#080-2026-01-14","title":"[0.8.0] - 2026-01-14","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Typed Dynamic Turbo Routes:</li> <li><code>@app.turbo_route()</code> now supports path parameters: <code>/users/&lt;int:id&gt;</code>.</li> <li>Path parameters are parsed in Rust for maximum performance (~30k RPS).</li> <li>Supports <code>int</code>, <code>float</code>, <code>str</code>, and <code>path</code> parameter types.</li> <li>Automatic type validation with 404 response for mismatches.</li> <li>Big integer support via Python fallback (no overflow).</li> <li> <p>Multiple parameters: <code>/posts/&lt;int:id&gt;/comments/&lt;int:cid&gt;</code>.</p> </li> <li> <p>Turbo Routes Documentation:</p> </li> <li>New <code>docs/user-guide/turbo-routes.md</code> with comprehensive guide.</li> <li>Example <code>examples/turbo/typed_turbo_example.py</code>.</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li><code>turbo_route</code> decorator now auto-detects parameters from route pattern.</li> <li>Improved error responses with structured JSON for type mismatches.</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Static File Serving:</li> <li>Fixed 404 errors for nested static files (e.g. <code>css/style.css</code>) using new wildcard routing.</li> <li>Robust Path Resolution: Implemented <code>get_root_path</code> to correctly locate <code>templates</code> and <code>static</code> folders regardless of working directory.</li> <li>Dependency Issues:</li> <li>Removed <code>robyn</code> dependency to eliminate build conflicts and simplify installation.</li> <li>Ensured compatibility across diverse Linux environments.</li> </ul>"},{"location":"changelog/#performance_1","title":"Performance","text":"<ul> <li>Dynamic turbo routes: ~30,000 requests/sec (vs ~18,000 for regular routes).</li> <li>65% improvement for simple lookup endpoints.</li> </ul>"},{"location":"changelog/#major-performance-breakthrough-operation-mach-5","title":"\ud83d\ude80 Major Performance Breakthrough (Operation Mach 5)","text":"<ul> <li>Native Multiprocessing (Linux):</li> <li>Implemented <code>os.fork()</code> based process manager with <code>SO_REUSEPORT</code> load balancing.</li> <li>Result: 97,376 RPS for standard routes (up from ~25k).</li> <li>Beat Sanic (41k) and BlackSheep (28k) by a massive margin.</li> <li> <p>Memory usage remains efficient (~152MB for 4 workers).</p> </li> <li> <p>Cross-Platform Support (Issue #9):</p> </li> <li>New <code>python/bustapi/multiprocess.py</code> module.</li> <li>New <code>ci-multiplatform.yml</code> for automated cross-platform testing with <code>oha</code> benchmarks.</li> <li>CI Benchmark Results:<ul> <li>Linux: 55,726 RPS (CI runner) / 105,012 RPS (local)</li> <li>macOS: 35,560 RPS (single-process)</li> <li>Windows: 17,772 RPS (single-process)</li> </ul> </li> <li> <p>Platform-specific behavior:</p> <ul> <li>Linux: Full multiprocessing with <code>SO_REUSEPORT</code> (100k+ RPS)</li> <li>macOS/Windows: Single-process fallback (Rust still 3x faster than Flask!)</li> </ul> </li> <li> <p>Cached Turbo Routes:</p> </li> <li>New built-in caching for turbo routes: <code>@app.turbo_route(\"/\", cache_ttl=60)</code>.</li> <li>Result: ~140,961 RPS for cached endpoints.</li> <li>Zero-latency responses (&lt; 1ms).</li> </ul>"},{"location":"changelog/#070-2026-01-13","title":"[0.7.0] - 2026-01-13","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>JWT Authentication (Rust-backed):</li> <li><code>JWT</code> class for token management with HS256/HS384/HS512 algorithms.</li> <li><code>create_access_token()</code> and <code>create_refresh_token()</code> methods.</li> <li><code>decode_token()</code> and <code>verify_token()</code> for validation.</li> <li>Decorators: <code>@jwt_required</code>, <code>@jwt_optional</code>, <code>@fresh_jwt_required</code>, <code>@jwt_refresh_token_required</code>.</li> <li> <p>Custom claims support and configurable expiry times.</p> </li> <li> <p>Session Login (Flask-Login style):</p> </li> <li><code>LoginManager</code> - Configure user loading and session handling.</li> <li><code>login_user()</code> / <code>logout_user()</code> - Manage user sessions.</li> <li><code>current_user</code> proxy - Access logged-in user anywhere.</li> <li><code>BaseUser</code> / <code>AnonUser</code> - User model mixins.</li> <li><code>@login_required</code>, <code>@fresh_login_required</code> - Route protection.</li> <li> <p><code>@roles_required</code>, <code>@permission_required</code> - Role-based access.</p> </li> <li> <p>Password Hashing (Argon2id):</p> </li> <li><code>hash_password()</code> - Secure password hashing using Argon2id (OWASP recommended).</li> <li><code>verify_password()</code> - Constant-time password verification.</li> <li> <p>PHC-formatted hashes with automatic salt generation.</p> </li> <li> <p>Security Utilities:</p> </li> <li><code>generate_token()</code> - Cryptographically secure random token generation.</li> <li><code>generate_csrf_token()</code> - CSRF token generation (32 bytes, hex-encoded).</li> <li> <p><code>CSRFProtect</code> class for automatic CSRF validation on forms.</p> </li> <li> <p>New Dependencies (Rust):</p> </li> <li><code>jsonwebtoken</code> v9 for JWT encoding/decoding.</li> <li><code>argon2</code> v0.5 for password hashing.</li> <li> <p><code>rand</code> v0.8 for secure random generation.</p> </li> <li> <p>CLI Tool (<code>bustapi</code>):</p> </li> <li><code>bustapi new</code>: Scaffold new projects with <code>pip</code>, <code>uv</code>, or <code>poetry</code>.</li> <li><code>bustapi run</code>: Run development server with hot reload.</li> <li><code>bustapi routes</code>: List all registered routes.</li> <li> <p><code>bustapi info</code>: View system and installation details.</p> </li> <li> <p>Native Hot Reloading: replaced <code>watchfiles</code> with a Rust-native watcher using the <code>notify</code> crate. This removes the <code>watchfiles</code> Python dependency and provides instant, low-overhead reloads</p> </li> <li> <p>Advanced Routing:</p> </li> <li>Deterministic Matching: Implemented scoring system (Exact &gt; Typed &gt; Generic &gt; Wildcard) to resolve overlapping routes predictably.</li> <li> <p>Wildcard Paths: Added <code>&lt;path:name&gt;</code> type for matching multiple URL segments (e.g. for static files).</p> </li> <li> <p>Examples: <code>17_jwt_auth.py</code>, <code>18_session_login.py</code>.</p> </li> <li> <p>Tests: <code>test_jwt.py</code>, <code>test_auth.py</code>, <code>test_login_manager.py</code>.</p> </li> <li> <p>Performance Optimizations:</p> </li> <li>Multiprocessing with SO_REUSEPORT: Uses <code>os.fork()</code> to spawn multiple worker processes sharing the same port for true parallel scaling.</li> <li>Turbo Routes: New <code>@app.turbo_route()</code> decorator for zero-overhead routing\u2014skips request context, sessions, and middleware for simple handlers.</li> <li>mimalloc Allocator: Rust backend uses mimalloc for faster memory allocation.</li> <li>Zero-Copy JSON: Native Rust JSON serialization with <code>serde_json</code>, bypassing Python's <code>json.dumps()</code>.</li> <li> <p>CPU-Specific Optimizations: Build with <code>target-cpu=native</code> for maximum performance.</p> </li> <li> <p>Python 3.14 Support (#8):</p> </li> <li>Upgraded PyO3 from <code>0.23</code> to <code>0.27</code> to support Python 3.14.</li> <li>Updated deprecated APIs: <code>Python::with_gil</code> \u2192 <code>Python::attach</code>, <code>PyObject</code> \u2192 <code>Py&lt;PyAny&gt;</code>, <code>downcast</code> \u2192 <code>cast</code>.</li> </ul>"},{"location":"changelog/#fixed_4","title":"Fixed","text":"<ul> <li>Static File Serving:</li> <li>Fixed 404 errors for nested static files (e.g. <code>css/style.css</code>) using new wildcard routing.</li> <li>Robust Path Resolution: Implemented <code>get_root_path</code> to correctly locate <code>templates</code> and <code>static</code> folders regardless of working directory.</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>Refactored <code>bustapi.auth</code> into modular package: <code>auth/login.py</code>, <code>auth/user.py</code>, <code>auth/decorators.py</code>, <code>auth/password.py</code>, <code>auth/tokens.py</code>, <code>auth/csrf.py</code>.</li> </ul>"},{"location":"changelog/#060-2026-01-05","title":"[0.6.0] - 2026-01-05","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>HTTP Range Support for Video Streaming: Static files now support HTTP Range requests with <code>206 Partial Content</code> responses (#1)</li> <li>Strict Path Routing: Bidirectional redirect support (FastAPI-style) ensures <code>/foo</code> and <code>/foo/</code> are both accessible, returning <code>307 Temporary Redirect</code> to the canonical URL (#7)</li> <li>Streaming Response Support: Implemented <code>StreamingResponse</code> for efficiency streaming of content from sync and async iterators (#3)</li> <li>Async Request Body Support: Added <code>await request.body()</code> and <code>async for chunk in request.stream()</code> methods for async compatibility (#4)</li> <li>Keyword Arguments Support: Automatic injection of path and query parameters into handler keyword arguments (#6)</li> <li>Query Params Alias: Added <code>request.query_params</code> property (alias to <code>request.args</code>) for FastAPI compatibility (#5)</li> <li>Flask-style <code>send_file</code> Helper: Updated to return <code>FileResponse</code> for efficient file serving with Range support</li> <li>Absolute Path Support: <code>FileResponse</code> now automatically converts relative paths to absolute paths for flexible file serving</li> <li>Video streaming example (<code>examples/27_video_stream.py</code>) demonstrating static and dynamic video serving</li> <li>Documentation: Updated user guides for Routing, Responses (Streaming), and Request Data (Async Body).</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>Manual File Serving Module (<code>src/file_serving.rs</code>): Removed in favor of robust <code>actix-files</code> integration which handles Range requests automatically.</li> </ul>"},{"location":"changelog/#changed_3","title":"Changed","text":"<ul> <li>Refactored <code>src/server/handlers.rs</code> to use <code>actix-files</code> for serving file responses.</li> <li>Updated <code>src/bindings/converters.rs</code> to pass <code>FileResponse</code> and <code>StreamingResponse</code> objects directly to Rust backend.</li> <li>Updated <code>src/bindings/handlers.rs</code> to pass request headers to response converter.</li> </ul>"},{"location":"changelog/#fixed_5","title":"Fixed","text":"<ul> <li>Windows Support: Gated Unix-specific hot-reload logic (<code>nix::unistd</code>) to fix build errors on Windows.</li> <li>Jinja2: Added <code>jinja2</code> as a core dependency to ensure <code>render_template</code> works out-of-the-box and fix CI test failures.</li> <li>CI/CD: Resolved Rust <code>clippy</code> checks for <code>manual_flatten</code> and <code>type_complexity</code> to ensure strict CI compliance.</li> <li>Dynamic Route Range Support: Dynamic routes returning <code>FileResponse</code> now correctly support Range requests (Video seeking/scrubbing).</li> <li>Improved memory efficiency for large file serving.</li> </ul>"},{"location":"changelog/#050-2026-01-01","title":"[0.5.0] - 2026-01-01","text":""},{"location":"changelog/#major-features_2","title":"Major Features","text":"<ul> <li>FastAPI Compatibility Layer:</li> <li>Added support for <code>Header</code>, <code>Cookie</code>, <code>Form</code>, and <code>File</code> parameter validators.</li> <li>Implemented <code>UploadFile</code> wrapper for easier file handling.</li> <li>Added <code>BackgroundTasks</code> for simple background execution.</li> <li> <p>Introduced <code>JSONResponse</code>, <code>HTMLResponse</code>, <code>PlainTextResponse</code>, <code>RedirectResponse</code>, <code>FileResponse</code> aliases.</p> </li> <li> <p>Core Context Improvements:</p> </li> <li>Implemented functional <code>g</code> (application globals) and <code>current_app</code> context proxies.</li> <li>Fixed issues where these globals were exported but not importable/functional.</li> <li> <p>Ensured correct context isolation using <code>contextvars</code>.</p> </li> <li> <p>API Completeness:</p> </li> <li>Improved <code>Request</code> object compatibility with Flask/Werkzeug (e.g. <code>request.files</code>, <code>request.cookies</code> via Rust).</li> </ul>"},{"location":"changelog/#040-2025-12-11","title":"[0.4.0] - 2025-12-11","text":""},{"location":"changelog/#major-features_3","title":"Major Features","text":"<ul> <li>Dependency Injection System: Full-featured <code>Depends()</code> support with recursive resolution.</li> <li>Supports nested dependencies (dependency functions depending on other dependencies).</li> <li>Recursive Parameter Extraction: Dependencies can define their own <code>Query</code>, <code>Path</code>, and <code>Body</code> parameters, which are automatically extracted from the request.</li> <li>Async support: Dependencies can be sync or async functions.</li> <li>Per-request caching and generator cleanup (dependency usage scope).</li> <li>Body Validation: Added <code>Body()</code> helper for JSON request body validation.</li> <li>Support for dictionary and Pydantic-like validation.</li> <li>Automatic type coercion and error handling (400 Bad Request).</li> <li>Integration with static and dynamic routes.</li> </ul>"},{"location":"changelog/#performance_2","title":"Performance","text":"<ul> <li>Benchmark Results: Achieved 19,969 RPS on root endpoint (benchmarked against Flask @ 4.7k and FastAPI @ 2.1k).</li> <li>Optimized Dispatch: Intelligent keyword argument filtering in dispatch wrappers prevents argument pollution while determining handler signatures at runtime.</li> </ul>"},{"location":"changelog/#fixed_6","title":"Fixed","text":"<ul> <li>Static Route Validations: Fixed bug where static routes (fast path) skipped body and query parameter extraction.</li> <li> <p>TestClient: Added proper <code>json</code> parameter support to <code>TestClient</code> methods for easier API testing.</p> </li> <li> <p>Signature Errors: Resolved \"unexpected keyword argument\" errors by filtering <code>kwargs</code> based on handler signatures.</p> </li> </ul>"},{"location":"changelog/#added_4","title":"Added","text":"<ul> <li>Query Parameter Validation: FastAPI-compatible <code>Query()</code> helper for query parameter validation</li> <li>Type coercion: <code>str</code> \u2192 <code>int</code>, <code>float</code>, <code>bool</code>, <code>list</code></li> <li>All validation constraints: <code>ge</code>, <code>le</code>, <code>gt</code>, <code>lt</code>, <code>min_length</code>, <code>max_length</code>, <code>regex</code></li> <li>Required vs optional parameters with default values</li> <li>OpenAPI schema generation with full constraint details</li> <li>Example: <code>examples/23_query_validation.py</code></li> </ul>"},{"location":"changelog/#performance_3","title":"Performance","text":"<ul> <li>Cookie Parsing: Moved cookie parsing from Python to Rust for 10-100x performance improvement</li> <li>Request cookies now parsed in Rust with URL decoding</li> <li>Zero Python overhead for cookie extraction</li> </ul>"},{"location":"changelog/#improved","title":"Improved","text":"<ul> <li>Response Cookies: Enhanced <code>Response.set_cookie()</code> API</li> <li>URL encoding for cookie values (security)</li> <li>Support for <code>datetime</code> objects and timestamps in <code>expires</code> parameter</li> <li>SameSite validation (<code>Strict</code>, <code>Lax</code>, <code>None</code>)</li> <li>Improved <code>delete_cookie()</code> with all cookie attributes for proper deletion</li> <li>Path Documentation: Integrated Path parameter metadata into OpenAPI documentation generator</li> <li>Path constraints now visible in Swagger UI/ReDoc</li> <li>Full OpenAPI 3.0 compliance</li> </ul>"},{"location":"changelog/#031-2025-12-10","title":"[0.3.1] - 2025-12-10","text":""},{"location":"changelog/#improvements","title":"Improvements","text":"<ul> <li>Benchmark Suite: Complete overhaul of <code>benchmarks/run_comparison_auto.py</code> to include FastAPI, detailed metrics (min/max latency, transfer rate), and \"futuristic\" reporting.</li> <li>Python Compatibility: Explicit support for Python 3.10 through 3.14 (experimental).</li> </ul>"},{"location":"changelog/#fixed_7","title":"Fixed","text":"<ul> <li>Reloader: Fixed <code>watchfiles</code> integration on Linux by correctly serializing the subprocess command.</li> <li>Linting: Resolved <code>ruff</code> B904 error in <code>rate_limit.py</code> by properly chaining exceptions.</li> </ul>"},{"location":"changelog/#030-2025-12-10","title":"[0.3.0] - 2025-12-10","text":""},{"location":"changelog/#major-changes","title":"Major Changes","text":"<ul> <li>Codebase Refactoring: Python codebase completely refactored into modular sub-packages (<code>bustapi.core</code>, <code>bustapi.http</code>, <code>bustapi.routing</code>, <code>bustapi.security</code>, etc.) for improved maintainability.</li> <li>Documentation Overhaul: Comprehensive documentation rewrite using MkDocs with \"Beginner to Advanced\" guides.</li> <li>Security Enhancements:</li> <li>Rust-based Rate Limiter for high-performance request throttling.</li> <li>Secure static file serving (blocking hidden files and path traversal).</li> <li><code>Security</code> extension for CORS and Security Headers.</li> </ul>"},{"location":"changelog/#added_5","title":"Added","text":"<ul> <li>New Examples: <code>10_rate_limit_demo.py</code> showcasing the new rate limiter and logging.</li> <li>Rust-based Logging: High-performance, colorful request logging implemented in Rust.</li> <li>User Experience:</li> <li>Hot Reloading: Enabled via <code>debug=True</code> or <code>reload=True</code> using <code>watchfiles</code>.</li> <li>ASGI/WSGI Support: Run BustAPI with <code>uvicorn</code>, <code>gunicorn</code>, or <code>hypercorn</code> (e.g., <code>app.run(server='uvicorn')</code>).</li> <li>Benchmark Tools: Built-in compatibility layer allows benchmarking against standard Python servers.</li> </ul>"},{"location":"changelog/#022-2025-12-10","title":"[0.2.2] - 2025-12-10","text":""},{"location":"changelog/#added_6","title":"Added","text":"<ul> <li>Comprehensive Examples: Added examples for Templates (<code>05_templates.py</code>), Blueprints (<code>06_blueprints.py</code>), Database (<code>07_database_raw.py</code>), Auto-docs (<code>08_auto_docs.py</code>), and Complex Routing (<code>09_complex_routing.py</code>).</li> <li>Automated Benchmarks: New <code>benchmarks/run_comparison_auto.py</code> with CPU/RAM monitoring and device info capture.</li> <li>Documentation: Expanded documentation structure with <code>mkdocs</code>, including User Guide and API Reference.</li> <li>CI/CD Improvements: Robust CI pipeline with <code>black</code>, <code>ruff</code>, and strict dependency management (<code>requests</code>, etc.).</li> </ul>"},{"location":"changelog/#fixed_8","title":"Fixed","text":"<ul> <li>Fixed internal <code>Router</code> visibility for crate-level testing.</li> <li>Resolved CI build failures related to missing test files and dependencies.</li> <li>Fixed <code>ruff</code> import sorting errors and <code>clippy</code> warnings.</li> </ul>"},{"location":"changelog/#020-2025-12-05","title":"[0.2.0] - 2025-12-05","text":""},{"location":"changelog/#changed_4","title":"Changed","text":"<ul> <li>BREAKING: Migrated from Hyper to Actix-web for 50x+ performance improvement</li> <li>Updated PyO3 from 0.20 to 0.23 with free-threading support</li> <li>Added <code>gil_used = false</code> annotation for Python 3.13 free-threaded mode</li> <li>Removed <code>spawn_blocking</code> - direct Python handler calls for parallel execution</li> <li>Server now uses Actix-web's built-in worker pool (auto-scales to CPU cores)</li> </ul>"},{"location":"changelog/#added_7","title":"Added","text":"<ul> <li>Expected 30k-100k+ RPS with dynamic Python handlers</li> </ul>"},{"location":"changelog/#015-2025-11-05","title":"[0.1.5] - 2025-11-05","text":"<ul> <li>Added Jinja2 templating helper and <code>render_template</code> API</li> <li>Added minimal OpenAPI JSON generator and <code>/openapi.json</code> endpoint</li> <li>CI: Make workflows platform-aware for virtualenv and maturin invocations</li> <li>CI: Flatten downloaded artifacts before PyPI publish</li> </ul>"},{"location":"changelog/#010-2025-10-05","title":"[0.1.0] - 2025-10-05","text":"<ul> <li>Initial release</li> </ul>"},{"location":"complete-api-reference/","title":"BustAPI Complete API Reference","text":"<p>Version: 0.3.1 Last Updated: 2025-12-10</p>"},{"location":"complete-api-reference/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Core Application</li> <li>HTTP Request &amp; Response</li> <li>Routing &amp; Blueprints</li> <li>Security &amp; Rate Limiting</li> <li>Testing</li> <li>Templating</li> <li>Middleware &amp; Hooks</li> <li>Error Handling</li> <li>Helper Functions</li> <li>Auto-Documentation</li> </ol>"},{"location":"complete-api-reference/#core-application","title":"Core Application","text":""},{"location":"complete-api-reference/#bustapi","title":"<code>BustAPI</code>","text":"<p>The main application class for creating BustAPI web applications. Flask-compatible with high-performance Rust backend.</p>"},{"location":"complete-api-reference/#constructor","title":"Constructor","text":"Python<pre><code>BustAPI(\n    import_name: str = None,\n    static_url_path: Optional[str] = None,\n    static_folder: Optional[str] = None,\n    template_folder: Optional[str] = None,\n    instance_relative_config: bool = False,\n    root_path: Optional[str] = None\n)\n</code></pre> <p>Parameters:</p> <ul> <li><code>import_name</code>: Name of the application package (default: module name)</li> <li><code>static_url_path</code>: URL path for static files (default: <code>/static</code>)</li> <li><code>static_folder</code>: Filesystem path to static files (default: <code>static</code>)</li> <li><code>template_folder</code>: Filesystem path to templates (default: <code>templates</code>)</li> <li><code>instance_relative_config</code>: Enable instance relative config</li> <li><code>root_path</code>: Root path for the application</li> </ul> <p>Example:</p> Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n# or with custom configuration\napp = BustAPI(\n    import_name='myapp',\n    static_folder='assets',\n    template_folder='views'\n)\n</code></pre>"},{"location":"complete-api-reference/#route-decorators","title":"Route Decorators","text":""},{"location":"complete-api-reference/#approuterule-options","title":"<code>@app.route(rule, **options)</code>","text":"<p>Register a view function for a URL rule.</p> <p>Parameters:</p> <ul> <li><code>rule</code> (str): URL pattern (e.g., <code>/users/&lt;int:id&gt;</code>)</li> <li><code>methods</code> (List[str]): HTTP methods (default: <code>['GET']</code>)</li> <li><code>endpoint</code> (str): Endpoint name (default: function name)</li> </ul> <p>Example:</p> Python<pre><code>@app.route('/')\ndef index():\n    return {'message': 'Hello, World!'}\n\n@app.route('/users/&lt;int:user_id&gt;', methods=['GET', 'POST'])\ndef user(user_id):\n    return {'user_id': user_id}\n</code></pre>"},{"location":"complete-api-reference/#convenience-method-decorators","title":"Convenience Method Decorators","text":"Python<pre><code>@app.get(rule, **options)      # GET requests only\n@app.post(rule, **options)     # POST requests only\n@app.put(rule, **options)      # PUT requests only\n@app.delete(rule, **options)   # DELETE requests only\n@app.patch(rule, **options)    # PATCH requests only\n@app.head(rule, **options)     # HEAD requests only\n@app.options(rule, **options)  # OPTIONS requests only\n</code></pre> <p>Example:</p> Python<pre><code>@app.get('/items')\ndef get_items():\n    return {'items': []}\n\n@app.post('/items')\ndef create_item():\n    return {'id': 1}, 201\n</code></pre>"},{"location":"complete-api-reference/#url-parameters","title":"URL Parameters","text":"<p>BustAPI supports Flask-style URL parameters with type converters:</p> <ul> <li><code>&lt;name&gt;</code> - String parameter (default)</li> <li><code>&lt;int:name&gt;</code> - Integer parameter</li> <li><code>&lt;float:name&gt;</code> - Float parameter</li> <li><code>&lt;path:name&gt;</code> - Path parameter (matches slashes)</li> <li><code>&lt;uuid:name&gt;</code> - UUID parameter</li> </ul> <p>Example:</p> Python<pre><code>@app.route('/users/&lt;int:user_id&gt;')\ndef get_user(user_id):\n    # user_id is automatically converted to int\n    return {'user_id': user_id, 'type': type(user_id).__name__}\n\n@app.route('/files/&lt;path:filepath&gt;')\ndef get_file(filepath):\n    # filepath can contain slashes\n    return {'path': filepath}\n</code></pre>"},{"location":"complete-api-reference/#running-the-application","title":"Running the Application","text":""},{"location":"complete-api-reference/#apprunhost-port-debug-options","title":"<code>app.run(host, port, debug, **options)</code>","text":"<p>Run the application server.</p> <p>Parameters:</p> <ul> <li><code>host</code> (str): Hostname to bind to (default: <code>127.0.0.1</code>)</li> <li><code>port</code> (int): Port to bind to (default: <code>5000</code>)</li> <li><code>debug</code> (bool): Enable debug mode (default: <code>False</code>)</li> <li><code>workers</code> (int): Number of worker threads (default: CPU count)</li> <li><code>reload</code> (bool): Enable auto-reload on code changes (default: <code>False</code>)</li> <li><code>server</code> (str): Server backend - <code>'rust'</code>, <code>'uvicorn'</code>, <code>'gunicorn'</code>, <code>'hypercorn'</code> (default: <code>'rust'</code>)</li> </ul> <p>Example:</p> Python<pre><code># Development mode with auto-reload\napp.run(debug=True, reload=True)\n\n# Production mode with multiple workers\napp.run(host='0.0.0.0', port=8000, workers=4)\n\n# Using uvicorn server\napp.run(server='uvicorn', port=8000)\n</code></pre>"},{"location":"complete-api-reference/#apprun_asynchost-port-debug-options","title":"<code>app.run_async(host, port, debug, **options)</code>","text":"<p>Run the application server asynchronously (for async applications).</p> <p>Example:</p> Python<pre><code>import asyncio\n\nasync def main():\n    await app.run_async(host='0.0.0.0', port=8000)\n\nasyncio.run(main())\n</code></pre>"},{"location":"complete-api-reference/#configuration","title":"Configuration","text":"Python<pre><code># Set configuration values\napp.config['DEBUG'] = True\napp.config['SECRET_KEY'] = 'your-secret-key'\n\n# Access configuration\ndebug_mode = app.config.get('DEBUG', False)\n</code></pre>"},{"location":"complete-api-reference/#testing","title":"Testing","text":""},{"location":"complete-api-reference/#apptest_clientuse_cookiestrue-kwargs","title":"<code>app.test_client(use_cookies=True, **kwargs)</code>","text":"<p>Create a test client for the application.</p> <p>Example:</p> Python<pre><code>def test_app():\n    client = app.test_client()\n    response = client.get('/')\n    assert response.status_code == 200\n</code></pre>"},{"location":"complete-api-reference/#http-request-response","title":"HTTP Request &amp; Response","text":""},{"location":"complete-api-reference/#request-object","title":"Request Object","text":"<p>The global <code>request</code> object provides access to incoming request data.</p>"},{"location":"complete-api-reference/#importing","title":"Importing","text":"Python<pre><code>from bustapi import request\n</code></pre>"},{"location":"complete-api-reference/#properties","title":"Properties","text":""},{"location":"complete-api-reference/#basic-request-info","title":"Basic Request Info","text":"Python<pre><code>request.method          # HTTP method (GET, POST, etc.)\nrequest.url             # Complete URL including query string\nrequest.base_url        # Base URL without query string\nrequest.path            # URL path component\nrequest.query_string    # Raw query string as bytes\n</code></pre>"},{"location":"complete-api-reference/#request-data","title":"Request Data","text":"Python<pre><code>request.args            # Query parameters (ImmutableMultiDict)\nrequest.form            # Form data (ImmutableMultiDict)\nrequest.files           # Uploaded files (ImmutableMultiDict)\nrequest.json            # Request body parsed as JSON\nrequest.data            # Raw request body as bytes\nrequest.values          # Combined args and form data\n</code></pre> <p>Example:</p> Python<pre><code>@app.route('/search')\ndef search():\n    query = request.args.get('q', 'default')\n    page = request.args.get('page', 1, type=int)\n    return {'query': query, 'page': page}\n\n@app.route('/submit', methods=['POST'])\ndef submit():\n    data = request.json\n    return {'received': data}\n</code></pre>"},{"location":"complete-api-reference/#headers-cookies","title":"Headers &amp; Cookies","text":"Python<pre><code>request.headers         # Request headers (EnvironHeaders)\nrequest.cookies         # Request cookies (dict)\n</code></pre> <p>Example:</p> Python<pre><code>@app.route('/api/data')\ndef get_data():\n    auth_token = request.headers.get('Authorization')\n    session_id = request.cookies.get('session_id')\n\n    if not auth_token:\n        return {'error': 'Unauthorized'}, 401\n\n    return {'data': 'secret'}\n</code></pre>"},{"location":"complete-api-reference/#client-information","title":"Client Information","text":"Python<pre><code>request.remote_addr     # Client IP address\nrequest.user_agent      # User agent string\nrequest.referrer        # HTTP referrer\nrequest.is_secure       # Whether request was made over HTTPS\n</code></pre>"},{"location":"complete-api-reference/#content-type-checks","title":"Content Type Checks","text":"Python<pre><code>request.is_json         # Whether request has JSON content type\nrequest.wants_json()    # Whether client prefers JSON response\nrequest.wants_html()    # Whether client prefers HTML response\nrequest.wants_xml()     # Whether client prefers XML response\nrequest.is_xhr()        # Whether request was made via XMLHttpRequest\n</code></pre>"},{"location":"complete-api-reference/#methods","title":"Methods","text":""},{"location":"complete-api-reference/#requestget_datacachetrue-as_textfalse-parse_form_datafalse","title":"<code>request.get_data(cache=True, as_text=False, parse_form_data=False)</code>","text":"<p>Get request body data.</p> <p>Example:</p> Python<pre><code>@app.route('/upload', methods=['POST'])\ndef upload():\n    raw_data = request.get_data(as_text=True)\n    return {'length': len(raw_data)}\n</code></pre>"},{"location":"complete-api-reference/#requestget_jsonforcefalse-silentfalse-cachetrue","title":"<code>request.get_json(force=False, silent=False, cache=True)</code>","text":"<p>Parse request body as JSON.</p> <p>Example:</p> Python<pre><code>@app.route('/api/users', methods=['POST'])\ndef create_user():\n    data = request.get_json(silent=True)\n    if not data:\n        return {'error': 'Invalid JSON'}, 400\n    return {'user': data}, 201\n</code></pre>"},{"location":"complete-api-reference/#response-objects","title":"Response Objects","text":""},{"location":"complete-api-reference/#response","title":"<code>Response</code>","text":"<p>Create HTTP responses with custom status codes and headers.</p> Python<pre><code>from bustapi import Response\n\nresponse = Response(\n    response='Hello, World!',\n    status=200,\n    headers={'X-Custom-Header': 'value'},\n    mimetype='text/plain',\n    content_type='text/plain; charset=utf-8'\n)\n</code></pre> <p>Properties:</p> Python<pre><code>response.status_code    # HTTP status code\nresponse.status         # Status code and reason phrase\nresponse.headers        # Response headers (Headers dict)\nresponse.content_type   # Content type header\nresponse.data           # Response body as bytes\n</code></pre> <p>Methods:</p> Python<pre><code>response.set_data(data)                 # Set response data\nresponse.get_data(as_text=False)        # Get response data\nresponse.set_cookie(key, value, ...)    # Set a cookie\nresponse.delete_cookie(key, ...)        # Delete a cookie\n</code></pre> <p>Example:</p> Python<pre><code>@app.route('/custom')\ndef custom_response():\n    resp = Response('Custom response', status=200)\n    resp.headers['X-Custom'] = 'Header'\n    resp.set_cookie('session', 'abc123', max_age=3600)\n    return resp\n</code></pre>"},{"location":"complete-api-reference/#response-helper-functions","title":"Response Helper Functions","text":""},{"location":"complete-api-reference/#jsonifyargs-kwargs","title":"<code>jsonify(*args, **kwargs)</code>","text":"<p>Create a JSON response.</p> Python<pre><code>from bustapi import jsonify\n\n@app.route('/api/data')\ndef get_data():\n    return jsonify({'key': 'value'})\n    # or\n    return jsonify(key='value')\n    # or\n    return jsonify([1, 2, 3])\n</code></pre>"},{"location":"complete-api-reference/#make_responseargs","title":"<code>make_response(*args)</code>","text":"<p>Create a Response object from various input types.</p> Python<pre><code>from bustapi import make_response\n\n@app.route('/example')\ndef example():\n    # Response with status\n    return make_response('Hello', 200)\n\n    # Response with headers\n    return make_response('Hello', {'X-Custom': 'Header'})\n\n    # Response with status and headers\n    return make_response('Hello', 200, {'X-Custom': 'Header'})\n</code></pre>"},{"location":"complete-api-reference/#redirectlocation-code302","title":"<code>redirect(location, code=302)</code>","text":"<p>Create a redirect response.</p> Python<pre><code>from bustapi import redirect\n\n@app.route('/old-page')\ndef old_page():\n    return redirect('/new-page')\n\n@app.route('/permanent')\ndef permanent_redirect():\n    return redirect('/new-location', code=301)\n</code></pre>"},{"location":"complete-api-reference/#abortcode-descriptionnone","title":"<code>abort(code, description=None)</code>","text":"<p>Abort request with HTTP error code.</p> Python<pre><code>from bustapi import abort\n\n@app.route('/admin')\ndef admin():\n    if not is_admin():\n        abort(403, 'Admin access required')\n    return {'message': 'Admin panel'}\n</code></pre>"},{"location":"complete-api-reference/#http-exceptions","title":"HTTP Exceptions","text":"Python<pre><code>from bustapi.http.response import (\n    BadRequest,           # 400\n    Unauthorized,         # 401\n    Forbidden,            # 403\n    NotFound,             # 404\n    MethodNotAllowed,     # 405\n    InternalServerError   # 500\n)\n\n@app.route('/protected')\ndef protected():\n    if not authenticated():\n        raise Unauthorized('Please log in')\n    return {'data': 'secret'}\n</code></pre>"},{"location":"complete-api-reference/#routing-blueprints","title":"Routing &amp; Blueprints","text":""},{"location":"complete-api-reference/#blueprints","title":"Blueprints","text":"<p>Blueprints allow you to organize routes into reusable components.</p>"},{"location":"complete-api-reference/#creating-a-blueprint","title":"Creating a Blueprint","text":"Python<pre><code>from bustapi import Blueprint\n\n# Create blueprint\napi = Blueprint('api', __name__, url_prefix='/api')\n\n@api.route('/status')\ndef status():\n    return {'status': 'ok'}\n\n@api.route('/users')\ndef users():\n    return {'users': []}\n</code></pre>"},{"location":"complete-api-reference/#blueprint-constructor","title":"Blueprint Constructor","text":"Python<pre><code>Blueprint(\n    name: str,\n    import_name: str,\n    static_folder: Optional[str] = None,\n    static_url_path: Optional[str] = None,\n    template_folder: Optional[str] = None,\n    url_prefix: Optional[str] = None,\n    subdomain: Optional[str] = None,\n    url_defaults: Optional[Dict] = None,\n    root_path: Optional[str] = None\n)\n</code></pre>"},{"location":"complete-api-reference/#registering-blueprints","title":"Registering Blueprints","text":"Python<pre><code># Register blueprint with app\napp.register_blueprint(api)\n\n# Register with custom prefix\napp.register_blueprint(api, url_prefix='/api/v1')\n</code></pre>"},{"location":"complete-api-reference/#blueprint-route-decorators","title":"Blueprint Route Decorators","text":"<p>Blueprints support all the same route decorators as the main app:</p> Python<pre><code>@blueprint.route(rule, **options)\n@blueprint.get(rule, **options)\n@blueprint.post(rule, **options)\n@blueprint.put(rule, **options)\n@blueprint.delete(rule, **options)\n@blueprint.patch(rule, **options)\n@blueprint.head(rule, **options)\n@blueprint.options(rule, **options)\n</code></pre>"},{"location":"complete-api-reference/#complete-blueprint-example","title":"Complete Blueprint Example","text":"Python<pre><code>from bustapi import Blueprint, BustAPI, jsonify\n\n# Create blueprints\napi_v1 = Blueprint('api_v1', __name__, url_prefix='/api/v1')\nadmin = Blueprint('admin', __name__, url_prefix='/admin')\n\n# API routes\n@api_v1.route('/status')\ndef api_status():\n    return jsonify({'status': 'ok', 'version': 1})\n\n@api_v1.route('/users')\ndef api_users():\n    return jsonify({'users': ['alice', 'bob']})\n\n# Admin routes\n@admin.route('/dashboard')\ndef admin_dashboard():\n    return '&lt;h1&gt;Admin Dashboard&lt;/h1&gt;'\n\n# Create app and register blueprints\napp = BustAPI()\napp.register_blueprint(api_v1)\napp.register_blueprint(admin)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"complete-api-reference/#security-rate-limiting","title":"Security &amp; Rate Limiting","text":""},{"location":"complete-api-reference/#security-extension","title":"Security Extension","text":"<p>The Security extension provides CORS, security headers, and other security features.</p>"},{"location":"complete-api-reference/#basic-usage","title":"Basic Usage","text":"Python<pre><code>from bustapi import BustAPI, Security\n\napp = BustAPI()\nsecurity = Security(app)\n\n# Enable CORS\nsecurity.enable_cors(\n    origins='*',                    # Allowed origins\n    methods=['GET', 'POST'],        # Allowed methods\n    allow_headers=['Content-Type'], # Allowed headers\n    expose_headers=[],              # Exposed headers\n    max_age=3600                    # Preflight cache time\n)\n\n# Enable security headers\nsecurity.enable_secure_headers()\n</code></pre>"},{"location":"complete-api-reference/#cors-configuration","title":"CORS Configuration","text":"Python<pre><code># Allow specific origins\nsecurity.enable_cors(origins=['https://example.com', 'https://app.example.com'])\n\n# Allow all origins (development only!)\nsecurity.enable_cors(origins='*')\n\n# Custom configuration\nsecurity.enable_cors(\n    origins=['https://example.com'],\n    methods=['GET', 'POST', 'PUT', 'DELETE'],\n    allow_headers=['Content-Type', 'Authorization'],\n    expose_headers=['X-Total-Count'],\n    max_age=86400,\n    supports_credentials=True\n)\n</code></pre>"},{"location":"complete-api-reference/#security-headers","title":"Security Headers","text":"<p>The <code>enable_secure_headers()</code> method adds the following headers:</p> <ul> <li><code>X-Content-Type-Options: nosniff</code></li> <li><code>X-Frame-Options: SAMEORIGIN</code></li> <li><code>X-XSS-Protection: 1; mode=block</code></li> <li><code>Strict-Transport-Security: max-age=31536000; includeSubDomains</code></li> </ul>"},{"location":"complete-api-reference/#rate-limiting","title":"Rate Limiting","text":"<p>Protect your API endpoints from abuse with rate limiting.</p>"},{"location":"complete-api-reference/#basic-usage_1","title":"Basic Usage","text":"Python<pre><code>from bustapi import BustAPI, RateLimit\n\napp = BustAPI()\nlimiter = RateLimit(app)\n\n@app.route('/api/resource')\n@limiter.limit('5/minute')\ndef resource():\n    return {'data': 'limited resource'}\n</code></pre>"},{"location":"complete-api-reference/#rate-limit-formats","title":"Rate Limit Formats","text":"Python<pre><code>@limiter.limit('5/second')   # 5 requests per second\n@limiter.limit('10/minute')  # 10 requests per minute\n@limiter.limit('100/hour')   # 100 requests per hour\n@limiter.limit('1000/day')   # 1000 requests per day\n</code></pre>"},{"location":"complete-api-reference/#custom-key-functions","title":"Custom Key Functions","text":"Python<pre><code>def get_user_id():\n    # Custom logic to identify users\n    return request.headers.get('X-User-ID', 'anonymous')\n\n@app.route('/api/user-data')\n@limiter.limit('10/minute', key_func=get_user_id)\ndef user_data():\n    return {'data': 'user-specific data'}\n</code></pre>"},{"location":"complete-api-reference/#handling-rate-limit-errors","title":"Handling Rate Limit Errors","text":"Python<pre><code>@app.errorhandler(429)\ndef handle_rate_limit(e):\n    return jsonify({\n        'error': 'Rate limit exceeded',\n        'message': str(e)\n    }), 429\n</code></pre>"},{"location":"complete-api-reference/#complete-example","title":"Complete Example","text":"Python<pre><code>from bustapi import BustAPI, RateLimit, jsonify\n\napp = BustAPI()\nlimiter = RateLimit(app)\n\n@app.route('/')\ndef home():\n    return {'message': 'No rate limit'}\n\n@app.route('/fast')\n@limiter.limit('2/second')\ndef fast():\n    return {'message': '2 requests per second allowed'}\n\n@app.route('/slow')\n@limiter.limit('1/minute')\ndef slow():\n    return {'message': '1 request per minute allowed'}\n\n@app.errorhandler(429)\ndef rate_limit_error(e):\n    return jsonify(error=str(e)), 429\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"complete-api-reference/#testing_1","title":"Testing","text":""},{"location":"complete-api-reference/#test-client","title":"Test Client","text":"<p>BustAPI provides a Flask-compatible test client for testing your applications.</p>"},{"location":"complete-api-reference/#basic-usage_2","title":"Basic Usage","text":"Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route('/')\ndef index():\n    return {'message': 'Hello, World!'}\n\n# Create test client\nclient = app.test_client()\n\n# Make requests\nresponse = client.get('/')\nassert response.status_code == 200\nassert response.json['message'] == 'Hello, World!'\n</code></pre>"},{"location":"complete-api-reference/#test-client-methods","title":"Test Client Methods","text":"Python<pre><code>client.get(path, **kwargs)      # GET request\nclient.post(path, **kwargs)     # POST request\nclient.put(path, **kwargs)      # PUT request\nclient.delete(path, **kwargs)   # DELETE request\nclient.patch(path, **kwargs)    # PATCH request\nclient.head(path, **kwargs)     # HEAD request\nclient.options(path, **kwargs)  # OPTIONS request\n</code></pre>"},{"location":"complete-api-reference/#request-parameters","title":"Request Parameters","text":"Python<pre><code># Query parameters\nresponse = client.get('/search', query_string={'q': 'test', 'page': 1})\n\n# JSON data\nresponse = client.post('/api/users',\n    data={'name': 'Alice'},\n    headers={'Content-Type': 'application/json'}\n)\n\n# Form data\nresponse = client.post('/submit',\n    data={'field': 'value'},\n    content_type='application/x-www-form-urlencoded'\n)\n\n# Custom headers\nresponse = client.get('/api/data',\n    headers={'Authorization': 'Bearer token123'}\n)\n</code></pre>"},{"location":"complete-api-reference/#test-response-object","title":"Test Response Object","text":"Python<pre><code>response.status_code    # HTTP status code\nresponse.status         # Status string\nresponse.data           # Response body as bytes\nresponse.text           # Response body as text\nresponse.json           # Response body as JSON\nresponse.headers        # Response headers\nresponse.is_json        # Whether response is JSON\n</code></pre>"},{"location":"complete-api-reference/#context-manager","title":"Context Manager","text":"Python<pre><code>with app.test_client() as client:\n    response = client.get('/')\n    assert response.status_code == 200\n\n    response = client.post('/api/data', data={'key': 'value'})\n    assert response.json['key'] == 'value'\n</code></pre>"},{"location":"complete-api-reference/#complete-testing-example","title":"Complete Testing Example","text":"Python<pre><code>import pytest\nfrom bustapi import BustAPI, jsonify\n\n@pytest.fixture\ndef app():\n    app = BustAPI()\n\n    @app.route('/')\n    def index():\n        return {'message': 'Hello'}\n\n    @app.route('/users/&lt;int:user_id&gt;')\n    def get_user(user_id):\n        return {'id': user_id, 'name': f'User {user_id}'}\n\n    @app.post('/users')\n    def create_user():\n        data = request.json\n        return {'id': 1, 'name': data['name']}, 201\n\n    return app\n\n@pytest.fixture\ndef client(app):\n    return app.test_client()\n\ndef test_index(client):\n    response = client.get('/')\n    assert response.status_code == 200\n    assert response.json['message'] == 'Hello'\n\ndef test_get_user(client):\n    response = client.get('/users/42')\n    assert response.status_code == 200\n    assert response.json['id'] == 42\n\ndef test_create_user(client):\n    response = client.post('/users',\n        data={'name': 'Alice'},\n        headers={'Content-Type': 'application/json'}\n    )\n    assert response.status_code == 201\n    assert response.json['name'] == 'Alice'\n</code></pre>"},{"location":"complete-api-reference/#templating","title":"Templating","text":"<p>BustAPI supports Jinja2 templates for rendering HTML.</p>"},{"location":"complete-api-reference/#basic-usage_3","title":"Basic Usage","text":"Python<pre><code>from bustapi import BustAPI, render_template\n\napp = BustAPI(template_folder='templates')\n\n@app.route('/')\ndef index():\n    return render_template('index.html',\n        title='Welcome',\n        user='Alice',\n        items=['Fast', 'Safe', 'Easy']\n    )\n</code></pre>"},{"location":"complete-api-reference/#template-example","title":"Template Example","text":"<p>templates/index.html:</p> HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;{{ title }}&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello, {{ user }}!&lt;/h1&gt;\n    &lt;ul&gt;\n      {% for item in items %}\n      &lt;li&gt;{{ item }}&lt;/li&gt;\n      {% endfor %}\n    &lt;/ul&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"complete-api-reference/#template-functions","title":"Template Functions","text":""},{"location":"complete-api-reference/#render_templatetemplate_name-context","title":"<code>render_template(template_name, **context)</code>","text":"<p>Render a template file.</p> Python<pre><code>@app.route('/profile/&lt;username&gt;')\ndef profile(username):\n    user_data = get_user(username)\n    return render_template('profile.html',\n        user=user_data,\n        title=f'{username} Profile'\n    )\n</code></pre>"},{"location":"complete-api-reference/#template-inheritance","title":"Template Inheritance","text":"<p>templates/base.html:</p> HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;{% block title %}Default Title{% endblock %}&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;nav&gt;\n      &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n      &lt;a href=\"/about\"&gt;About&lt;/a&gt;\n    &lt;/nav&gt;\n\n    &lt;main&gt;{% block content %}{% endblock %}&lt;/main&gt;\n\n    &lt;footer&gt;&amp;copy; 2025 BustAPI&lt;/footer&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>templates/page.html:</p> HTML<pre><code>{% extends \"base.html\" %} {% block title %}{{ page_title }}{% endblock %} {%\nblock content %}\n&lt;h1&gt;{{ heading }}&lt;/h1&gt;\n&lt;p&gt;{{ content }}&lt;/p&gt;\n{% endblock %}\n</code></pre>"},{"location":"complete-api-reference/#template-filters","title":"Template Filters","text":"<p>Jinja2 provides many built-in filters:</p> HTML<pre><code>{{ name|upper }}\n&lt;!-- Uppercase --&gt;\n{{ text|lower }}\n&lt;!-- Lowercase --&gt;\n{{ items|length }}\n&lt;!-- Length --&gt;\n{{ price|round(2) }}\n&lt;!-- Round to 2 decimals --&gt;\n{{ date|default('N/A') }}\n&lt;!-- Default value --&gt;\n{{ html_content|safe }}\n&lt;!-- Mark as safe HTML --&gt;\n{{ user_input|escape }}\n&lt;!-- Escape HTML --&gt;\n</code></pre>"},{"location":"complete-api-reference/#middleware-hooks","title":"Middleware &amp; Hooks","text":"<p>BustAPI provides hooks to run code before and after requests.</p>"},{"location":"complete-api-reference/#before-request","title":"Before Request","text":"<p>Run code before each request.</p> Python<pre><code>@app.before_request\ndef before_request():\n    # Runs before every request\n    request.start_time = time.time()\n    print(f'Request: {request.method} {request.path}')\n</code></pre>"},{"location":"complete-api-reference/#after-request","title":"After Request","text":"<p>Run code after each request.</p> Python<pre><code>@app.after_request\ndef after_request(response):\n    # Runs after every request\n    # Must return the response\n    duration = time.time() - request.start_time\n    print(f'Response: {response.status_code} ({duration:.3f}s)')\n\n    # Add custom headers\n    response.headers['X-Request-Time'] = str(duration)\n\n    return response\n</code></pre>"},{"location":"complete-api-reference/#teardown-request","title":"Teardown Request","text":"<p>Run code after each request, even if an exception occurred.</p> Python<pre><code>@app.teardown_request\ndef teardown_request(exception):\n    # Runs after every request, even on errors\n    if exception:\n        print(f'Error occurred: {exception}')\n\n    # Cleanup resources\n    if hasattr(request, 'db'):\n        request.db.close()\n</code></pre>"},{"location":"complete-api-reference/#teardown-app-context","title":"Teardown App Context","text":"<p>Run code when the application context is torn down.</p> Python<pre><code>@app.teardown_appcontext\ndef teardown_appcontext(exception):\n    # Cleanup application-level resources\n    pass\n</code></pre>"},{"location":"complete-api-reference/#complete-middleware-example","title":"Complete Middleware Example","text":"Python<pre><code>import time\nfrom bustapi import BustAPI, request, abort\n\napp = BustAPI()\n\n# Request counter\nrequest_count = 0\n\n@app.before_request\ndef start_timer():\n    \"\"\"Start request timer.\"\"\"\n    global request_count\n    request_count += 1\n    request.start_time = time.time()\n    print(f'[{request.method}] {request.path} - Processing...')\n\n@app.before_request\ndef check_auth():\n    \"\"\"Check authentication for protected routes.\"\"\"\n    if request.path.startswith('/admin'):\n        auth = request.headers.get('Authorization')\n        if auth != 'secret-token':\n            abort(401, 'Unauthorized')\n\n@app.after_request\ndef add_headers(response):\n    \"\"\"Add custom headers to response.\"\"\"\n    if hasattr(request, 'start_time'):\n        duration = time.time() - request.start_time\n        response.headers['X-Request-Time'] = f'{duration:.4f}'\n\n    response.headers['X-Request-Count'] = str(request_count)\n    return response\n\n@app.route('/')\ndef index():\n    return {'message': 'Public route'}\n\n@app.route('/admin/dashboard')\ndef admin():\n    return {'message': 'Admin dashboard'}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"complete-api-reference/#error-handling","title":"Error Handling","text":""},{"location":"complete-api-reference/#error-handlers","title":"Error Handlers","text":"<p>Register custom error handlers for HTTP status codes or exceptions.</p>"},{"location":"complete-api-reference/#http-status-code-handlers","title":"HTTP Status Code Handlers","text":"Python<pre><code>@app.errorhandler(404)\ndef not_found(error):\n    return {'error': 'Resource not found'}, 404\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return {'error': 'Internal server error'}, 500\n</code></pre>"},{"location":"complete-api-reference/#exception-handlers","title":"Exception Handlers","text":"Python<pre><code>class ValidationError(Exception):\n    pass\n\n@app.errorhandler(ValidationError)\ndef handle_validation_error(error):\n    return {'error': str(error), 'type': 'validation_error'}, 400\n</code></pre>"},{"location":"complete-api-reference/#using-abort","title":"Using <code>abort()</code>","text":"Python<pre><code>from bustapi import abort\n\n@app.route('/users/&lt;int:user_id&gt;')\ndef get_user(user_id):\n    user = find_user(user_id)\n    if not user:\n        abort(404, 'User not found')\n    return {'user': user}\n\n@app.route('/admin')\ndef admin():\n    if not is_admin():\n        abort(403, 'Admin access required')\n    return {'message': 'Admin panel'}\n</code></pre>"},{"location":"complete-api-reference/#complete-error-handling-example","title":"Complete Error Handling Example","text":"Python<pre><code>from bustapi import BustAPI, abort, jsonify\n\napp = BustAPI()\n\n# Custom exception\nclass ValidationException(Exception):\n    pass\n\nclass AuthenticationException(Exception):\n    pass\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(e):\n    return jsonify(error='Resource not found', code=404), 404\n\n@app.errorhandler(ValidationException)\ndef handle_validation(e):\n    return jsonify(error=str(e), type='validation_error'), 400\n\n@app.errorhandler(AuthenticationException)\ndef handle_auth(e):\n    return jsonify(error=str(e), type='auth_error'), 401\n\n# Routes\n@app.route('/')\ndef home():\n    return {\n        'routes': [\n            '/abort/&lt;int:code&gt; - trigger abort',\n            '/error - raise exception',\n            '/validate/&lt;int:value&gt; - validate value'\n        ]\n    }\n\n@app.route('/abort/&lt;int:code&gt;')\ndef trigger_abort(code):\n    abort(code)\n\n@app.route('/error')\ndef trigger_error():\n    raise Exception('Something went wrong!')\n\n@app.route('/validate/&lt;int:value&gt;')\ndef validate(value):\n    if value &lt; 0:\n        raise ValidationException('Value must be non-negative')\n    return {'status': 'valid', 'value': value}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"complete-api-reference/#helper-functions","title":"Helper Functions","text":""},{"location":"complete-api-reference/#url-helpers","title":"URL Helpers","text":""},{"location":"complete-api-reference/#url_forendpoint-values","title":"<code>url_for(endpoint, **values)</code>","text":"<p>Generate URL for endpoint (simplified implementation).</p> Python<pre><code>from bustapi import url_for\n\nurl = url_for('user_profile', user_id=42)\n# Returns: '/users/42'\n</code></pre>"},{"location":"complete-api-reference/#response-helpers","title":"Response Helpers","text":""},{"location":"complete-api-reference/#redirectlocation-code302_1","title":"<code>redirect(location, code=302)</code>","text":"<p>Create redirect response.</p> Python<pre><code>from bustapi import redirect\n\n@app.route('/old-url')\ndef old_url():\n    return redirect('/new-url')\n\n@app.route('/permanent')\ndef permanent():\n    return redirect('/new-location', code=301)\n</code></pre>"},{"location":"complete-api-reference/#send_filepath-mimetypenone-as_attachmentfalse","title":"<code>send_file(path, mimetype=None, as_attachment=False)</code>","text":"<p>Send file as response.</p> Python<pre><code>from bustapi.core.helpers import send_file\n\n@app.route('/download/&lt;filename&gt;')\ndef download(filename):\n    return send_file(f'files/{filename}', as_attachment=True)\n</code></pre>"},{"location":"complete-api-reference/#send_from_directorydirectory-path","title":"<code>send_from_directory(directory, path)</code>","text":"<p>Send file from directory (with security checks).</p> Python<pre><code>from bustapi.core.helpers import send_from_directory\n\n@app.route('/static/&lt;path:filename&gt;')\ndef static_files(filename):\n    return send_from_directory('static', filename)\n</code></pre>"},{"location":"complete-api-reference/#utility-helpers","title":"Utility Helpers","text":""},{"location":"complete-api-reference/#escapetext","title":"<code>escape(text)</code>","text":"<p>Escape HTML special characters.</p> Python<pre><code>from bustapi.core.helpers import escape\n\nsafe_text = escape('&lt;script&gt;alert(\"XSS\")&lt;/script&gt;')\n# Returns: '&amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/script&amp;gt;'\n</code></pre>"},{"location":"complete-api-reference/#safe_joindirectory-pathnames","title":"<code>safe_join(directory, *pathnames)</code>","text":"<p>Safely join directory and path components.</p> Python<pre><code>from bustapi.core.helpers import safe_join\n\nsafe_path = safe_join('/var/www', 'uploads', 'file.txt')\n# Returns: '/var/www/uploads/file.txt' or None if unsafe\n</code></pre>"},{"location":"complete-api-reference/#auto-documentation","title":"Auto-Documentation","text":"<p>BustAPI can automatically generate OpenAPI documentation for your API.</p>"},{"location":"complete-api-reference/#basic-usage_4","title":"Basic Usage","text":"Python<pre><code>from bustapi import BustAPI, BustAPIDocs\n\napp = BustAPI()\n\n# Initialize documentation\ndocs = BustAPIDocs(\n    app,\n    title='My API',\n    version='1.0.0',\n    description='API documentation'\n)\n\n@app.route('/items')\ndef get_items():\n    \"\"\"\n    Get list of items.\n\n    Returns a list of all items in the inventory.\n    \"\"\"\n    return {'items': []}\n\n@app.route('/items/&lt;int:item_id&gt;')\ndef get_item(item_id):\n    \"\"\"\n    Get specific item by ID.\n\n    Args:\n        item_id: The ID of the item to retrieve.\n    \"\"\"\n    return {'id': item_id, 'name': f'Item {item_id}'}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n    # Swagger UI: http://localhost:5000/docs\n    # ReDoc: http://localhost:5000/redoc\n    # OpenAPI JSON: http://localhost:5000/openapi.json\n</code></pre>"},{"location":"complete-api-reference/#documentation-urls","title":"Documentation URLs","text":"<p>After initializing <code>BustAPIDocs</code>, the following endpoints are available:</p> <ul> <li><code>/docs</code> - Swagger UI interface</li> <li><code>/redoc</code> - ReDoc interface</li> <li><code>/openapi.json</code> - OpenAPI specification (JSON)</li> </ul>"},{"location":"complete-api-reference/#documenting-routes","title":"Documenting Routes","text":"<p>Use docstrings to document your routes:</p> Python<pre><code>@app.get('/users')\ndef list_users():\n    \"\"\"\n    List all users.\n\n    Returns a paginated list of users in the system.\n\n    Query Parameters:\n        page (int): Page number (default: 1)\n        limit (int): Items per page (default: 10)\n\n    Returns:\n        200: List of users\n        400: Invalid parameters\n    \"\"\"\n    page = request.args.get('page', 1, type=int)\n    limit = request.args.get('limit', 10, type=int)\n    return {'users': [], 'page': page, 'limit': limit}\n\n@app.post('/users')\ndef create_user():\n    \"\"\"\n    Create a new user.\n\n    Request Body:\n        name (str): User's name\n        email (str): User's email\n\n    Returns:\n        201: User created successfully\n        400: Invalid input\n    \"\"\"\n    data = request.json\n    return {'id': 1, 'name': data['name']}, 201\n</code></pre>"},{"location":"complete-api-reference/#complete-examples","title":"Complete Examples","text":""},{"location":"complete-api-reference/#1-hello-world","title":"1. Hello World","text":"Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route('/')\ndef index():\n    return {'message': 'Hello, World!', 'framework': 'BustAPI'}\n\nif __name__ == '__main__':\n    app.run(debug=True, port=5000)\n</code></pre>"},{"location":"complete-api-reference/#2-async-handlers","title":"2. Async Handlers","text":"Python<pre><code>import asyncio\nfrom bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route('/sync')\ndef sync_handler():\n    return {'mode': 'sync'}\n\n@app.route('/async')\nasync def async_handler():\n    await asyncio.sleep(0.1)\n    return {'mode': 'async', 'waited': 0.1}\n\nif __name__ == '__main__':\n    app.run(port=5000)\n</code></pre>"},{"location":"complete-api-reference/#3-database-integration","title":"3. Database Integration","text":"Python<pre><code>import sqlite3\nfrom bustapi import BustAPI, jsonify, request\n\napp = BustAPI()\nDB_FILE = 'app.db'\n\ndef get_db():\n    conn = sqlite3.connect(DB_FILE)\n    conn.row_factory = sqlite3.Row\n    return conn\n\n@app.before_request\ndef connect_db():\n    request.db = get_db()\n\n@app.teardown_request\ndef close_db(exception):\n    if hasattr(request, 'db'):\n        request.db.close()\n\n@app.route('/init-db')\ndef init_db():\n    conn = get_db()\n    conn.execute('CREATE TABLE IF NOT EXISTS items (id INTEGER PRIMARY KEY, name TEXT)')\n    conn.execute(\"INSERT INTO items (name) VALUES ('Rust')\")\n    conn.execute(\"INSERT INTO items (name) VALUES ('Python')\")\n    conn.commit()\n    conn.close()\n    return jsonify({'message': 'Database initialized'})\n\n@app.route('/items')\ndef list_items():\n    cursor = request.db.execute('SELECT * FROM items')\n    items = [{'id': row['id'], 'name': row['name']} for row in cursor.fetchall()]\n    return jsonify(items)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"complete-api-reference/#4-full-featured-api","title":"4. Full-Featured API","text":"Python<pre><code>from bustapi import (\n    BustAPI, Blueprint, jsonify, request, abort,\n    RateLimit, Security, BustAPIDocs\n)\n\napp = BustAPI()\n\n# Security\nsecurity = Security(app)\nsecurity.enable_cors(origins='*', methods=['GET', 'POST', 'PUT', 'DELETE'])\nsecurity.enable_secure_headers()\n\n# Rate limiting\nlimiter = RateLimit(app)\n\n# Documentation\ndocs = BustAPIDocs(app, title='My API', version='1.0.0')\n\n# Blueprint\napi = Blueprint('api', __name__, url_prefix='/api/v1')\n\n@api.route('/status')\n@limiter.limit('10/minute')\ndef status():\n    \"\"\"API status endpoint.\"\"\"\n    return jsonify({'status': 'ok', 'version': '1.0.0'})\n\n@api.route('/users')\ndef list_users():\n    \"\"\"List all users.\"\"\"\n    return jsonify({'users': ['alice', 'bob']})\n\n@api.route('/users/&lt;int:user_id&gt;')\ndef get_user(user_id):\n    \"\"\"Get user by ID.\"\"\"\n    return jsonify({'id': user_id, 'name': f'User {user_id}'})\n\n@api.post('/users')\n@limiter.limit('5/minute')\ndef create_user():\n    \"\"\"Create new user.\"\"\"\n    data = request.json\n    if not data or 'name' not in data:\n        abort(400, 'Name is required')\n    return jsonify({'id': 1, 'name': data['name']}), 201\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(e):\n    return jsonify(error='Not found'), 404\n\n@app.errorhandler(429)\ndef rate_limit_exceeded(e):\n    return jsonify(error='Rate limit exceeded'), 429\n\n# Register blueprint\napp.register_blueprint(api)\n\n@app.route('/')\ndef index():\n    return jsonify({\n        'message': 'Welcome to My API',\n        'docs': '/docs',\n        'api': '/api/v1/status'\n    })\n\nif __name__ == '__main__':\n    app.run(debug=True, port=8000)\n</code></pre>"},{"location":"complete-api-reference/#configuration-reference","title":"Configuration Reference","text":""},{"location":"complete-api-reference/#application-configuration","title":"Application Configuration","text":"Python<pre><code>app.config['DEBUG'] = True\napp.config['SECRET_KEY'] = 'your-secret-key'\napp.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB\n</code></pre>"},{"location":"complete-api-reference/#server-options","title":"Server Options","text":"Python<pre><code>app.run(\n    host='0.0.0.0',          # Bind to all interfaces\n    port=8000,               # Port number\n    debug=True,              # Debug mode\n    workers=4,               # Number of workers\n    reload=True,             # Auto-reload on changes\n    server='rust'            # Server backend\n)\n</code></pre>"},{"location":"complete-api-reference/#available-servers","title":"Available Servers","text":"<ul> <li><code>'rust'</code> - Built-in Rust server (default, fastest)</li> <li><code>'uvicorn'</code> - ASGI server</li> <li><code>'gunicorn'</code> - WSGI server</li> <li><code>'hypercorn'</code> - ASGI server</li> </ul>"},{"location":"complete-api-reference/#performance-tips","title":"Performance Tips","text":"<ol> <li>Use the Rust server for maximum performance</li> <li>Enable multiple workers in production</li> <li>Use async handlers for I/O-bound operations</li> <li>Implement rate limiting to protect your API</li> <li>Enable caching for static content</li> <li>Use connection pooling for databases</li> <li>Minimize middleware overhead</li> </ol>"},{"location":"complete-api-reference/#version-information","title":"Version Information","text":"Python<pre><code>import bustapi\n\nprint(bustapi.__version__)           # '0.3.1'\nprint(bustapi.get_version())         # '0.3.1'\nprint(bustapi.get_debug_info())      # Detailed version info\n</code></pre> <p>This documentation covers BustAPI version 0.3.1. For the latest updates, visit the official documentation.</p>"},{"location":"deployment-performance-guide/","title":"BustAPI Deployment &amp; Performance Guide","text":"<p>Complete guide for deploying and optimizing BustAPI applications in production</p>"},{"location":"deployment-performance-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Production Deployment</li> <li>Server Options</li> <li>Performance Optimization</li> <li>Scaling Strategies</li> <li>Monitoring &amp; Logging</li> <li>Security Best Practices</li> <li>Docker Deployment</li> <li>Cloud Deployment</li> <li>Load Balancing</li> <li>Benchmarking</li> </ol>"},{"location":"deployment-performance-guide/#production-deployment","title":"Production Deployment","text":""},{"location":"deployment-performance-guide/#production-checklist","title":"Production Checklist","text":"<ul> <li> Set <code>DEBUG = False</code></li> <li> Use strong <code>SECRET_KEY</code></li> <li> Configure proper logging</li> <li> Set up error monitoring</li> <li> Enable HTTPS</li> <li> Configure CORS properly</li> <li> Set up rate limiting</li> <li> Use environment variables</li> <li> Configure database connection pooling</li> <li> Set up health check endpoints</li> <li> Configure proper worker count</li> <li> Set up reverse proxy (nginx/caddy)</li> <li> Enable security headers</li> <li> Set up automated backups</li> </ul>"},{"location":"deployment-performance-guide/#environment-configuration","title":"Environment Configuration","text":"<p>.env (Production):</p> Text Only<pre><code># Application\nDEBUG=False\nSECRET_KEY=your-very-long-random-secret-key-here\nENVIRONMENT=production\n\n# Server\nHOST=0.0.0.0\nPORT=8000\nWORKERS=4\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/dbname\nDATABASE_POOL_SIZE=20\nDATABASE_MAX_OVERFLOW=10\n\n# Redis (for caching/sessions)\nREDIS_URL=redis://localhost:6379/0\n\n# Security\nALLOWED_HOSTS=example.com,www.example.com\nCORS_ORIGINS=https://example.com,https://app.example.com\n\n# Monitoring\nSENTRY_DSN=https://your-sentry-dsn\nLOG_LEVEL=INFO\n</code></pre>"},{"location":"deployment-performance-guide/#application-configuration","title":"Application Configuration","text":"<p>config.py:</p> Python<pre><code>import os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    DEBUG = False\n    TESTING = False\n    SECRET_KEY = os.getenv('SECRET_KEY')\n\n    # Database\n    DATABASE_URL = os.getenv('DATABASE_URL')\n    DATABASE_POOL_SIZE = int(os.getenv('DATABASE_POOL_SIZE', 10))\n\n    # Server\n    HOST = os.getenv('HOST', '0.0.0.0')\n    PORT = int(os.getenv('PORT', 8000))\n    WORKERS = int(os.getenv('WORKERS', 4))\n\n    # Security\n    ALLOWED_HOSTS = os.getenv('ALLOWED_HOSTS', '').split(',')\n    CORS_ORIGINS = os.getenv('CORS_ORIGINS', '').split(',')\n\n    # Logging\n    LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    WORKERS = 1\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    DATABASE_URL = 'sqlite:///:memory:'\n\n# Configuration dictionary\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n\ndef get_config():\n    \"\"\"Get configuration based on environment.\"\"\"\n    env = os.getenv('ENVIRONMENT', 'development')\n    return config.get(env, config['default'])\n</code></pre> <p>app.py:</p> Python<pre><code>from bustapi import BustAPI\nfrom config import get_config\n\ndef create_app():\n    \"\"\"Application factory.\"\"\"\n    config = get_config()\n\n    app = BustAPI()\n    app.config.from_object(config)\n\n    # Initialize extensions\n    init_extensions(app)\n\n    # Register blueprints\n    register_blueprints(app)\n\n    # Configure logging\n    configure_logging(app)\n\n    return app\n\ndef init_extensions(app):\n    \"\"\"Initialize extensions.\"\"\"\n    from extensions import db, security, limiter\n\n    db.init_app(app)\n    security.init_app(app)\n    limiter.init_app(app)\n\ndef register_blueprints(app):\n    \"\"\"Register blueprints.\"\"\"\n    from blueprints.api import api\n    from blueprints.admin import admin\n\n    app.register_blueprint(api)\n    app.register_blueprint(admin)\n\ndef configure_logging(app):\n    \"\"\"Configure logging.\"\"\"\n    import logging\n    from logging.handlers import RotatingFileHandler\n\n    if not app.config['DEBUG']:\n        # File handler\n        file_handler = RotatingFileHandler(\n            'logs/app.log',\n            maxBytes=10240000,  # 10MB\n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s '\n            '[in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\nif __name__ == '__main__':\n    app = create_app()\n    app.run(\n        host=app.config['HOST'],\n        port=app.config['PORT'],\n        workers=app.config['WORKERS']\n    )\n</code></pre>"},{"location":"deployment-performance-guide/#server-options","title":"Server Options","text":""},{"location":"deployment-performance-guide/#1-rust-server-built-in-recommended","title":"1. Rust Server (Built-in, Recommended)","text":"<p>Best for: Maximum performance, production use</p> Python<pre><code># Fastest option, uses Actix-web internally\napp.run(\n    host='0.0.0.0',\n    port=8000,\n    workers=4,\n    server='rust'\n)\n</code></pre> <p>Benchmarks:</p> <ul> <li>50,000+ requests/second</li> <li>Sub-millisecond latency</li> <li>Low memory footprint</li> </ul>"},{"location":"deployment-performance-guide/#2-uvicorn-asgi","title":"2. Uvicorn (ASGI)","text":"<p>Best for: Async applications, WebSocket support</p> Bash<pre><code># Install\npip install uvicorn\n\n# Run\nuvicorn myapp:app --host 0.0.0.0 --port 8000 --workers 4\n</code></pre> Python<pre><code># In code\napp.run(\n    host='0.0.0.0',\n    port=8000,\n    workers=4,\n    server='uvicorn'\n)\n</code></pre>"},{"location":"deployment-performance-guide/#3-gunicorn-wsgi","title":"3. Gunicorn (WSGI)","text":"<p>Best for: Traditional WSGI deployment, compatibility</p> Bash<pre><code># Install\npip install gunicorn\n\n# Run\ngunicorn -w 4 -b 0.0.0.0:8000 myapp:app\n</code></pre> Python<pre><code># In code\napp.run(\n    host='0.0.0.0',\n    port=8000,\n    workers=4,\n    server='gunicorn'\n)\n</code></pre>"},{"location":"deployment-performance-guide/#4-hypercorn-asgi","title":"4. Hypercorn (ASGI)","text":"<p>Best for: HTTP/2, HTTP/3 support</p> Bash<pre><code># Install\npip install hypercorn\n\n# Run\nhypercorn myapp:app --bind 0.0.0.0:8000 --workers 4\n</code></pre>"},{"location":"deployment-performance-guide/#server-comparison","title":"Server Comparison","text":"Server Type Performance Async HTTP/2 WebSocket Rust (Actix) Native \u2b50\u2b50\u2b50\u2b50\u2b50 \u2705 \u2705 \u2705 Uvicorn ASGI \u2b50\u2b50\u2b50\u2b50 \u2705 \u274c \u2705 Gunicorn WSGI \u2b50\u2b50\u2b50 \u274c \u274c \u274c Hypercorn ASGI \u2b50\u2b50\u2b50\u2b50 \u2705 \u2705 \u2705"},{"location":"deployment-performance-guide/#performance-optimization","title":"Performance Optimization","text":""},{"location":"deployment-performance-guide/#1-worker-configuration","title":"1. Worker Configuration","text":"Python<pre><code>import multiprocessing\n\n# Calculate optimal workers\nworkers = multiprocessing.cpu_count() * 2 + 1\n\napp.run(\n    host='0.0.0.0',\n    port=8000,\n    workers=workers\n)\n</code></pre> <p>Guidelines:</p> <ul> <li>CPU-bound tasks: <code>workers = CPU cores</code></li> <li>I/O-bound tasks: <code>workers = CPU cores * 2 + 1</code></li> <li>Mixed workload: <code>workers = CPU cores * 1.5</code></li> </ul>"},{"location":"deployment-performance-guide/#2-database-connection-pooling","title":"2. Database Connection Pooling","text":"Python<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\nengine = create_engine(\n    DATABASE_URL,\n    poolclass=QueuePool,\n    pool_size=20,              # Number of connections to maintain\n    max_overflow=10,           # Additional connections when pool is full\n    pool_timeout=30,           # Timeout for getting connection\n    pool_recycle=3600,         # Recycle connections after 1 hour\n    pool_pre_ping=True         # Verify connections before use\n)\n</code></pre>"},{"location":"deployment-performance-guide/#3-caching","title":"3. Caching","text":"<p>Response Caching:</p> Python<pre><code>from functools import lru_cache\nimport time\n\n# In-memory cache\n@lru_cache(maxsize=128)\ndef get_expensive_data(key):\n    # Expensive operation\n    time.sleep(1)\n    return {'data': 'value'}\n\n@app.route('/api/data/&lt;key&gt;')\ndef cached_data(key):\n    return get_expensive_data(key)\n</code></pre> <p>Redis Caching:</p> Python<pre><code>import redis\nimport json\n\nredis_client = redis.Redis(host='localhost', port=6379, db=0)\n\ndef cache_response(timeout=300):\n    def decorator(f):\n        @wraps(f)\n        def wrapper(*args, **kwargs):\n            # Generate cache key\n            cache_key = f'{f.__name__}:{args}:{kwargs}'\n\n            # Try to get from cache\n            cached = redis_client.get(cache_key)\n            if cached:\n                return json.loads(cached)\n\n            # Get fresh data\n            result = f(*args, **kwargs)\n\n            # Store in cache\n            redis_client.setex(\n                cache_key,\n                timeout,\n                json.dumps(result)\n            )\n\n            return result\n        return wrapper\n    return decorator\n\n@app.route('/api/users')\n@cache_response(timeout=600)  # Cache for 10 minutes\ndef get_users():\n    # Expensive database query\n    return {'users': fetch_users_from_db()}\n</code></pre>"},{"location":"deployment-performance-guide/#4-async-operations","title":"4. Async Operations","text":"Python<pre><code>import asyncio\nimport aiohttp\n\n@app.route('/api/combined')\nasync def combined_data():\n    # Run multiple operations concurrently\n    results = await asyncio.gather(\n        fetch_user_data(),\n        fetch_posts(),\n        fetch_comments()\n    )\n\n    return {\n        'user': results[0],\n        'posts': results[1],\n        'comments': results[2]\n    }\n\nasync def fetch_user_data():\n    async with aiohttp.ClientSession() as session:\n        async with session.get('http://api.example.com/user') as resp:\n            return await resp.json()\n</code></pre>"},{"location":"deployment-performance-guide/#5-response-compression","title":"5. Response Compression","text":"<p>Using nginx:</p> Nginx Configuration File<pre><code>http {\n    gzip on;\n    gzip_vary on;\n    gzip_min_length 1024;\n    gzip_types text/plain text/css text/xml text/javascript\n               application/x-javascript application/xml+rss\n               application/json application/javascript;\n}\n</code></pre>"},{"location":"deployment-performance-guide/#6-static-file-optimization","title":"6. Static File Optimization","text":"<p>Serve static files with nginx:</p> Nginx Configuration File<pre><code>location /static/ {\n    alias /var/www/myapp/static/;\n    expires 30d;\n    add_header Cache-Control \"public, immutable\";\n}\n</code></pre>"},{"location":"deployment-performance-guide/#7-database-query-optimization","title":"7. Database Query Optimization","text":"Python<pre><code># Bad: N+1 queries\n@app.route('/users')\ndef get_users():\n    users = User.query.all()\n    return [{\n        'id': u.id,\n        'name': u.name,\n        'posts': [p.title for p in u.posts]  # N queries!\n    } for u in users]\n\n# Good: Eager loading\n@app.route('/users')\ndef get_users():\n    users = User.query.options(\n        joinedload(User.posts)\n    ).all()\n    return [{\n        'id': u.id,\n        'name': u.name,\n        'posts': [p.title for p in u.posts]  # Already loaded!\n    } for u in users]\n</code></pre>"},{"location":"deployment-performance-guide/#8-pagination","title":"8. Pagination","text":"Python<pre><code>@app.route('/api/items')\ndef get_items():\n    page = request.args.get('page', 1, type=int)\n    per_page = request.args.get('per_page', 20, type=int)\n\n    # Limit per_page to prevent abuse\n    per_page = min(per_page, 100)\n\n    offset = (page - 1) * per_page\n\n    items = Item.query.limit(per_page).offset(offset).all()\n    total = Item.query.count()\n\n    return {\n        'items': [item.to_dict() for item in items],\n        'pagination': {\n            'page': page,\n            'per_page': per_page,\n            'total': total,\n            'pages': (total + per_page - 1) // per_page\n        }\n    }\n</code></pre>"},{"location":"deployment-performance-guide/#scaling-strategies","title":"Scaling Strategies","text":""},{"location":"deployment-performance-guide/#horizontal-scaling","title":"Horizontal Scaling","text":"<p>Load Balancer Configuration (nginx):</p> Nginx Configuration File<pre><code>upstream bustapi_backend {\n    least_conn;  # Use least connections algorithm\n\n    server 10.0.1.10:8000 weight=1 max_fails=3 fail_timeout=30s;\n    server 10.0.1.11:8000 weight=1 max_fails=3 fail_timeout=30s;\n    server 10.0.1.12:8000 weight=1 max_fails=3 fail_timeout=30s;\n    server 10.0.1.13:8000 weight=1 max_fails=3 fail_timeout=30s;\n\n    keepalive 32;\n}\n\nserver {\n    listen 80;\n    server_name api.example.com;\n\n    location / {\n        proxy_pass http://bustapi_backend;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # Connection settings\n        proxy_http_version 1.1;\n        proxy_set_header Connection \"\";\n\n        # Timeouts\n        proxy_connect_timeout 60s;\n        proxy_send_timeout 60s;\n        proxy_read_timeout 60s;\n    }\n}\n</code></pre>"},{"location":"deployment-performance-guide/#vertical-scaling","title":"Vertical Scaling","text":"<p>Optimize Resource Usage:</p> Python<pre><code># Increase worker count\napp.run(workers=16)  # For 8-core CPU\n\n# Tune database pool\nengine = create_engine(\n    DATABASE_URL,\n    pool_size=50,\n    max_overflow=20\n)\n</code></pre>"},{"location":"deployment-performance-guide/#microservices-architecture","title":"Microservices Architecture","text":"<p>Service Separation:</p> Text Only<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Gateway   \u2502  (BustAPI)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502       \u2502        \u2502        \u2502\n\u250c\u2500\u2500\u25bc\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2510\n\u2502Auth \u2502 \u2502User \u2502 \u2502Post \u2502 \u2502File \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>API Gateway:</p> Python<pre><code>import httpx\n\n@app.route('/api/user/&lt;int:user_id&gt;')\nasync def get_user(user_id):\n    async with httpx.AsyncClient() as client:\n        response = await client.get(\n            f'http://user-service:8001/users/{user_id}'\n        )\n        return response.json()\n\n@app.route('/api/posts')\nasync def get_posts():\n    async with httpx.AsyncClient() as client:\n        response = await client.get(\n            'http://post-service:8002/posts'\n        )\n        return response.json()\n</code></pre>"},{"location":"deployment-performance-guide/#monitoring-logging","title":"Monitoring &amp; Logging","text":""},{"location":"deployment-performance-guide/#application-logging","title":"Application Logging","text":"Python<pre><code>import logging\nfrom logging.handlers import RotatingFileHandler, SysLogHandler\n\ndef setup_logging(app):\n    \"\"\"Configure application logging.\"\"\"\n\n    # Create logs directory\n    import os\n    os.makedirs('logs', exist_ok=True)\n\n    # File handler\n    file_handler = RotatingFileHandler(\n        'logs/app.log',\n        maxBytes=10 * 1024 * 1024,  # 10MB\n        backupCount=10\n    )\n    file_handler.setLevel(logging.INFO)\n    file_handler.setFormatter(logging.Formatter(\n        '%(asctime)s %(levelname)s [%(name)s] %(message)s'\n    ))\n\n    # Error file handler\n    error_handler = RotatingFileHandler(\n        'logs/error.log',\n        maxBytes=10 * 1024 * 1024,\n        backupCount=10\n    )\n    error_handler.setLevel(logging.ERROR)\n    error_handler.setFormatter(logging.Formatter(\n        '%(asctime)s %(levelname)s [%(name)s] %(message)s\\n'\n        'Path: %(pathname)s:%(lineno)d\\n'\n        'Traceback:\\n%(exc_info)s'\n    ))\n\n    # Add handlers\n    app.logger.addHandler(file_handler)\n    app.logger.addHandler(error_handler)\n    app.logger.setLevel(logging.INFO)\n</code></pre>"},{"location":"deployment-performance-guide/#request-logging","title":"Request Logging","text":"Python<pre><code>import time\nfrom bustapi import logging\n\n@app.before_request\ndef start_timer():\n    request.start_time = time.time()\n\n@app.after_request\ndef log_request(response):\n    duration = time.time() - request.start_time\n\n    logging.log_request(\n        request.method,\n        request.path,\n        response.status_code,\n        duration\n    )\n\n    # Also log to file\n    app.logger.info(\n        f'{request.method} {request.path} '\n        f'{response.status_code} {duration:.3f}s'\n    )\n\n    return response\n</code></pre>"},{"location":"deployment-performance-guide/#error-monitoring-sentry","title":"Error Monitoring (Sentry)","text":"Python<pre><code>import sentry_sdk\nfrom sentry_sdk.integrations.logging import LoggingIntegration\n\nsentry_sdk.init(\n    dsn=os.getenv('SENTRY_DSN'),\n    environment=os.getenv('ENVIRONMENT', 'production'),\n    traces_sample_rate=0.1,  # 10% of transactions\n    integrations=[\n        LoggingIntegration(\n            level=logging.INFO,\n            event_level=logging.ERROR\n        )\n    ]\n)\n\n@app.errorhandler(Exception)\ndef handle_exception(error):\n    # Error is automatically sent to Sentry\n    app.logger.error(f'Unhandled exception: {error}', exc_info=True)\n    return {'error': 'Internal server error'}, 500\n</code></pre>"},{"location":"deployment-performance-guide/#health-check-endpoints","title":"Health Check Endpoints","text":"Python<pre><code>@app.route('/health')\ndef health_check():\n    \"\"\"Basic health check.\"\"\"\n    return {'status': 'healthy'}\n\n@app.route('/health/detailed')\ndef detailed_health():\n    \"\"\"Detailed health check with dependencies.\"\"\"\n    checks = {\n        'database': check_database(),\n        'redis': check_redis(),\n        'external_api': check_external_api()\n    }\n\n    all_healthy = all(checks.values())\n    status_code = 200 if all_healthy else 503\n\n    return {\n        'status': 'healthy' if all_healthy else 'unhealthy',\n        'checks': checks\n    }, status_code\n\ndef check_database():\n    try:\n        db.session.execute('SELECT 1')\n        return True\n    except Exception:\n        return False\n\ndef check_redis():\n    try:\n        redis_client.ping()\n        return True\n    except Exception:\n        return False\n</code></pre>"},{"location":"deployment-performance-guide/#metrics-collection","title":"Metrics Collection","text":"Python<pre><code>from prometheus_client import Counter, Histogram, generate_latest\n\n# Define metrics\nrequest_count = Counter(\n    'http_requests_total',\n    'Total HTTP requests',\n    ['method', 'endpoint', 'status']\n)\n\nrequest_duration = Histogram(\n    'http_request_duration_seconds',\n    'HTTP request duration',\n    ['method', 'endpoint']\n)\n\n@app.before_request\ndef start_timer():\n    request.start_time = time.time()\n\n@app.after_request\ndef record_metrics(response):\n    duration = time.time() - request.start_time\n\n    request_count.labels(\n        method=request.method,\n        endpoint=request.path,\n        status=response.status_code\n    ).inc()\n\n    request_duration.labels(\n        method=request.method,\n        endpoint=request.path\n    ).observe(duration)\n\n    return response\n\n@app.route('/metrics')\ndef metrics():\n    \"\"\"Prometheus metrics endpoint.\"\"\"\n    return generate_latest(), 200, {'Content-Type': 'text/plain'}\n</code></pre>"},{"location":"deployment-performance-guide/#security-best-practices","title":"Security Best Practices","text":""},{"location":"deployment-performance-guide/#1-https-configuration","title":"1. HTTPS Configuration","text":"<p>nginx SSL Configuration:</p> Nginx Configuration File<pre><code>server {\n    listen 443 ssl http2;\n    server_name api.example.com;\n\n    # SSL certificates\n    ssl_certificate /etc/letsencrypt/live/api.example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/api.example.com/privkey.pem;\n\n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers on;\n\n    # HSTS\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n\n# Redirect HTTP to HTTPS\nserver {\n    listen 80;\n    server_name api.example.com;\n    return 301 https://$server_name$request_uri;\n}\n</code></pre>"},{"location":"deployment-performance-guide/#2-security-headers","title":"2. Security Headers","text":"Python<pre><code>from bustapi import Security\n\nsecurity = Security(app)\nsecurity.enable_secure_headers()\n\n# Custom security headers\n@app.after_request\ndef add_security_headers(response):\n    response.headers['X-Content-Type-Options'] = 'nosniff'\n    response.headers['X-Frame-Options'] = 'DENY'\n    response.headers['X-XSS-Protection'] = '1; mode=block'\n    response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'\n    response.headers['Content-Security-Policy'] = \"default-src 'self'\"\n    return response\n</code></pre>"},{"location":"deployment-performance-guide/#3-rate-limiting","title":"3. Rate Limiting","text":"Python<pre><code>from bustapi import RateLimit\n\nlimiter = RateLimit(app)\n\n# Global rate limit\n@app.before_request\ndef global_rate_limit():\n    if not limiter.check_limit('global', 1000, 60):\n        abort(429, 'Global rate limit exceeded')\n\n# Per-endpoint limits\n@app.route('/api/expensive')\n@limiter.limit('10/minute')\ndef expensive():\n    return {'data': 'value'}\n</code></pre>"},{"location":"deployment-performance-guide/#4-input-validation","title":"4. Input Validation","text":"Python<pre><code>from marshmallow import Schema, fields, ValidationError\n\nclass UserSchema(Schema):\n    name = fields.Str(required=True, validate=lambda x: len(x) &gt; 0)\n    email = fields.Email(required=True)\n    age = fields.Int(validate=lambda x: 0 &lt;= x &lt;= 150)\n\n@app.post('/api/users')\ndef create_user():\n    schema = UserSchema()\n    try:\n        data = schema.load(request.json)\n    except ValidationError as err:\n        return {'errors': err.messages}, 400\n\n    # Data is validated\n    user = create_user_in_db(data)\n    return {'user': user}, 201\n</code></pre>"},{"location":"deployment-performance-guide/#5-sql-injection-prevention","title":"5. SQL Injection Prevention","text":"Python<pre><code># Bad: SQL injection vulnerable\n@app.route('/users/&lt;username&gt;')\ndef get_user_bad(username):\n    query = f\"SELECT * FROM users WHERE username = '{username}'\"\n    result = db.execute(query)  # VULNERABLE!\n\n# Good: Parameterized queries\n@app.route('/users/&lt;username&gt;')\ndef get_user_good(username):\n    query = \"SELECT * FROM users WHERE username = ?\"\n    result = db.execute(query, (username,))  # Safe\n</code></pre>"},{"location":"deployment-performance-guide/#6-cors-configuration","title":"6. CORS Configuration","text":"Python<pre><code>security.enable_cors(\n    origins=['https://example.com'],  # Specific origins only\n    methods=['GET', 'POST'],\n    allow_headers=['Content-Type', 'Authorization'],\n    max_age=3600\n)\n</code></pre>"},{"location":"deployment-performance-guide/#docker-deployment","title":"Docker Deployment","text":""},{"location":"deployment-performance-guide/#dockerfile","title":"Dockerfile","text":"Docker<pre><code>FROM python:3.11-slim\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    gcc \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application\nCOPY . .\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser &amp;&amp; \\\n    chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n    CMD python -c \"import requests; requests.get('http://localhost:8000/health')\"\n\n# Run application\nCMD [\"python\", \"app.py\"]\n</code></pre>"},{"location":"deployment-performance-guide/#docker-composeyml","title":"docker-compose.yml","text":"YAML<pre><code>version: \"3.8\"\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DEBUG=False\n      - DATABASE_URL=postgresql://user:password@db:5432/dbname\n      - REDIS_URL=redis://redis:6379/0\n    depends_on:\n      - db\n      - redis\n    restart: unless-stopped\n    volumes:\n      - ./logs:/app/logs\n    networks:\n      - app-network\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=dbname\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    networks:\n      - app-network\n\n  redis:\n    image: redis:7-alpine\n    networks:\n      - app-network\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./certs:/etc/nginx/certs:ro\n    depends_on:\n      - app\n    networks:\n      - app-network\n\nvolumes:\n  postgres-data:\n\nnetworks:\n  app-network:\n    driver: bridge\n</code></pre>"},{"location":"deployment-performance-guide/#cloud-deployment","title":"Cloud Deployment","text":""},{"location":"deployment-performance-guide/#aws-elastic-beanstalk","title":"AWS Elastic Beanstalk","text":"<p>.ebextensions/python.config:</p> YAML<pre><code>option_settings:\n  aws:elasticbeanstalk:container:python:\n    WSGIPath: app:app\n  aws:elasticbeanstalk:application:environment:\n    ENVIRONMENT: production\n    DEBUG: False\n</code></pre>"},{"location":"deployment-performance-guide/#google-cloud-run","title":"Google Cloud Run","text":"<p>cloudbuild.yaml:</p> YAML<pre><code>steps:\n  - name: \"gcr.io/cloud-builders/docker\"\n    args: [\"build\", \"-t\", \"gcr.io/$PROJECT_ID/bustapi-app\", \".\"]\n  - name: \"gcr.io/cloud-builders/docker\"\n    args: [\"push\", \"gcr.io/$PROJECT_ID/bustapi-app\"]\n  - name: \"gcr.io/cloud-builders/gcloud\"\n    args:\n      - \"run\"\n      - \"deploy\"\n      - \"bustapi-app\"\n      - \"--image=gcr.io/$PROJECT_ID/bustapi-app\"\n      - \"--platform=managed\"\n      - \"--region=us-central1\"\n      - \"--allow-unauthenticated\"\n</code></pre>"},{"location":"deployment-performance-guide/#heroku","title":"Heroku","text":"<p>Procfile:</p> Text Only<pre><code>web: python app.py\n</code></pre> <p>runtime.txt:</p> Text Only<pre><code>python-3.11.0\n</code></pre>"},{"location":"deployment-performance-guide/#benchmarking","title":"Benchmarking","text":""},{"location":"deployment-performance-guide/#load-testing-with-apache-bench","title":"Load Testing with Apache Bench","text":"Bash<pre><code># Simple benchmark\nab -n 10000 -c 100 http://localhost:8000/\n\n# With keep-alive\nab -n 10000 -c 100 -k http://localhost:8000/\n\n# POST requests\nab -n 1000 -c 10 -p data.json -T application/json http://localhost:8000/api/users\n</code></pre>"},{"location":"deployment-performance-guide/#load-testing-with-wrk","title":"Load Testing with wrk","text":"Bash<pre><code># Basic test\nwrk -t4 -c100 -d30s http://localhost:8000/\n\n# With custom script\nwrk -t4 -c100 -d30s -s script.lua http://localhost:8000/\n</code></pre> <p>script.lua:</p> Lua<pre><code>wrk.method = \"POST\"\nwrk.body   = '{\"name\": \"test\"}'\nwrk.headers[\"Content-Type\"] = \"application/json\"\n</code></pre>"},{"location":"deployment-performance-guide/#performance-metrics","title":"Performance Metrics","text":"<p>Target Metrics:</p> <ul> <li>Throughput: 10,000+ requests/second</li> <li>Latency (p50): &lt; 10ms</li> <li>Latency (p95): &lt; 50ms</li> <li>Latency (p99): &lt; 100ms</li> <li>Error Rate: &lt; 0.1%</li> <li>CPU Usage: &lt; 70%</li> <li>Memory Usage: &lt; 80%</li> </ul> <p>For more deployment examples and configurations, see the deployment documentation.</p>"},{"location":"deployment/","title":"Deployment","text":"<p>BustAPI uses an embedded Actix-web server.</p> <p>For production, simply run your application file:</p> Bash<pre><code>python main.py\n</code></pre> <p>Arguments like <code>workers</code> can be configured in your <code>app.run()</code> call.</p>"},{"location":"examples-guide/","title":"Examples Gallery","text":"<p>The <code>examples/</code> directory in the repository contains many complete scripts demonstrating BustAPI features. Here is a curated list.</p>"},{"location":"examples-guide/#basics","title":"Basics","text":"<p>Learning Path</p> <p>Start here if you are new to web development or BustAPI.</p> <ul> <li>01_hello_world.py: The minimal application.</li> <li>02_parameters.py: How to use path parameters like <code>/user/&lt;name&gt;</code>.</li> <li>03_async.py: Using <code>async def</code> for non-blocking routes.</li> <li>04_request_data.py: accessing query args and form data.</li> </ul>"},{"location":"examples-guide/#data-validation","title":"Data &amp; Validation","text":"<p>Learn how to robustly handle input.</p> <ul> <li>19_all_types.py: Comprehensive demonstration of <code>Struct</code>, <code>Array</code>, <code>Integer</code>, etc.</li> <li>21_path_validation.py: Strict validation for path parameters.</li> <li>23_query_validation.py: Strict validation for query parameters.</li> <li>24_body_and_depends.py: Combining JSON bodies and Dependency Injection.</li> </ul>"},{"location":"examples-guide/#advanced-features","title":"Advanced Features","text":"<p>For production-grade applications.</p> <ul> <li>06_blueprints.py: Organizing your app into modules.</li> <li>14_middleware.py: Custom request/response hooks.</li> <li>10_rate_limit_demo.py: Using the built-in rate limiter to prevent abuse.</li> <li>11_security_demo.py: Implementing security headers.</li> </ul>"},{"location":"examples-guide/#database-templates","title":"Database &amp; Templates","text":"<ul> <li>05_templates.py: Rendering Jinja2 templates.</li> <li>07_database_raw.py: Executing raw SQL queries.</li> <li>10_database_sqlmodel.py: Full integration with SQLModel (ORM).</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>Get BustAPI up and running in seconds.</p>"},{"location":"installation/#quick-install","title":"Quick Install","text":"pip uv (faster) pipx (isolated) Bash<pre><code>pip install bustapi\n</code></pre> Bash<pre><code>uv pip install bustapi\n</code></pre> Bash<pre><code>pipx install bustapi\n</code></pre> <p>That's it!</p> <p>Pre-built wheels are available. No Rust toolchain required.</p>"},{"location":"installation/#requirements","title":"Requirements","text":"Requirement Versions Python 3.10, 3.11, 3.12, 3.13, 3.14 OS Linux, macOS, Windows Architecture x86_64, arm64 (Apple Silicon)"},{"location":"installation/#platform-support","title":"Platform Support","text":"<ul> <li> <p> Linux (Recommended)</p> <p>Best performance with native multiprocessing.</p> <ul> <li> 100,000+ RPS with 4 workers</li> <li> <code>SO_REUSEPORT</code> kernel load balancing</li> <li> Optimal for production</li> </ul> </li> <li> <p> macOS</p> <p>Fully supported for development.</p> <ul> <li> ~35,000 RPS (single-process)</li> <li> Apple Silicon native</li> <li> Great for local development</li> </ul> </li> <li> <p> Windows</p> <p>Fully supported for development.</p> <ul> <li> ~17,000 RPS (single-process)</li> <li> x64 pre-built wheels</li> <li> Great for local development</li> </ul> </li> </ul> <p>Production Recommendation</p> <p>For maximum performance, deploy on Linux servers. macOS and Windows are ideal for development.</p>"},{"location":"installation/#development-install","title":"Development Install","text":"<p>To build from source (requires Rust):</p>  Linux / macOS Windows Bash<pre><code># Install Rust\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n\n# Clone and build\ngit clone https://github.com/GrandpaEJ/BustAPI.git\ncd BustAPI\npip install maturin\nmaturin develop --release\n</code></pre> PowerShell<pre><code># Install Rust from https://rustup.rs\n\n# Clone and build\ngit clone https://github.com/GrandpaEJ/BustAPI.git\ncd BustAPI\npip install maturin\nmaturin develop --release\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"Python<pre><code>&gt;&gt;&gt; import bustapi\n&gt;&gt;&gt; print(bustapi.__version__)\n0.8.0\n</code></pre>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<p>Ready to build something? Check out the Quickstart Guide!</p>"},{"location":"quickstart/","title":"Quickstart","text":"<p>Get your first BustAPI app running in under 5 minutes.</p>"},{"location":"quickstart/#installation","title":"Installation","text":"pip uv (faster) Bash<pre><code>pip install bustapi\n</code></pre> Bash<pre><code>uv pip install bustapi\n</code></pre> <p>Requirements</p> <ul> <li>Python 3.10 - 3.14</li> <li>Pre-built wheels for Linux, macOS, and Windows</li> </ul>"},{"location":"quickstart/#hello-world","title":"Hello World","text":"<p>Create a file called <code>app.py</code>:</p> app.py<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route(\"/\")\ndef hello():\n    return {\"message\": \"Hello, World!\"}\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Run it:</p> Bash<pre><code>python app.py\n</code></pre> <p>Open  http://127.0.0.1:5000 in your browser.</p> <p>You should see</p> JSON<pre><code>{\"message\": \"Hello, World!\"}\n</code></pre>"},{"location":"quickstart/#level-up-turbo-routes","title":"Level Up: Turbo Routes","text":"<p>For maximum performance, use <code>@app.turbo_route()</code>:</p> Static RouteDynamic RouteCached Route Python<pre><code>@app.turbo_route(\"/health\")\ndef health():\n    return {\"status\": \"ok\"}\n</code></pre> Python<pre><code>@app.turbo_route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):\n    return {\"id\": id, \"name\": f\"User {id}\"}\n</code></pre> Python<pre><code>@app.turbo_route(\"/\", cache_ttl=60)\ndef home():\n    return {\"message\": \"Cached for 60 seconds!\"}\n</code></pre>"},{"location":"quickstart/#benchmark-results-v080","title":"Benchmark Results (v0.8.0)","text":"<p>Tested with <code>oha -z 10s -c 50</code> on Python 3.13:</p> Route Type Linux (4w) macOS Windows Static turbo 105,012 35,560 17,772 Dynamic turbo 99,142 27,532 17,844 Cached turbo ~160,000 - - <p>Note</p> <p>Turbo routes skip middleware and sessions for speed. Use <code>@app.route()</code> if you need those features.</p>"},{"location":"quickstart/#production-mode","title":"Production Mode","text":"<p>For maximum performance, use multiprocessing:</p> app.py<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n# ... your routes ...\n\nif __name__ == \"__main__\":\n    app.run(\n        host=\"0.0.0.0\",\n        port=5000,\n        workers=4,      # (1)!\n        debug=False     # (2)!\n    )\n</code></pre> <ol> <li> Spawns 4 worker processes for parallel request handling</li> <li> Always disable debug in production!</li> </ol>"},{"location":"quickstart/#platform-performance-v080","title":"Platform Performance (v0.8.0)","text":"Platform Workers RPS Note  Linux 4 105,012 <code>SO_REUSEPORT</code> load balancing  macOS 1 35,560 Single-process mode  Windows 1 17,772 Single-process mode <p>Production Recommendation</p> <p>Deploy on Linux for maximum performance with kernel-level load balancing.</p>"},{"location":"quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> <p> Routing Guide</p> <p>Learn about dynamic paths and blueprints.</p> </li> <li> <p> Turbo Routes</p> <p>Deep dive into high-performance routes.</p> </li> <li> <p> Multiprocessing</p> <p>Scale to 100k+ RPS on Linux.</p> </li> <li> <p> JWT Auth</p> <p>Secure your API with tokens.</p> </li> </ul>"},{"location":"release_track/","title":"Release Track &amp; Roadmap","text":""},{"location":"release_track/#release-track","title":"Release Track","text":"<p>BustAPI follows semver.</p> Version Status Release Date Highlights v0.3.1 \ud83d\udfe1 Beta 2025-12-10 Bug fixes, Benchmark overhaul, Python 3.14 support v0.3.0 \ud83d\udfe1 Beta 2025-12-10 Hot Reload, ASGI/WSGI Support, Security, Rate Limit v0.2.2 \ud83d\udfe1 Beta 2025-12-10 Comprehensive Examples, Auto-Benchmarks, Full Docs v0.2.0 \ud83d\udfe1 Beta 2025-12-05 Migration to Actix-web, Free-threading Support v0.1.5 \u26aa Alpha 2025-09-01 Jinja2, OpenAPI, CI/CD Basics v0.1.0 \u26aa Alpha 2025-08-29 Initial Proof of Concept"},{"location":"release_track/#roadmap","title":"Roadmap","text":""},{"location":"release_track/#v040-the-ecosystem-update","title":"v0.4.0 - The Ecosystem Update","text":"<ul> <li> ORM Support: Native integration with SQLAlchemy or similar.</li> <li> Middleware Overhaul: Enhanced middleware system with better ordering and context.</li> <li> Session Management: Built-in session support.</li> </ul>"},{"location":"release_track/#v050-performance-tuning","title":"v0.5.0 - Performance Tuning","text":"<ul> <li> Zero-Copy Optimizations: Further minimize copying between Rust and Python.</li> <li> WebSockets: Native WebSocket support via Actix.</li> </ul>"},{"location":"release_track/#v100-production-ready","title":"v1.0.0 - Production Ready","text":"<ul> <li> Full API Stability: Frozen public API.</li> <li> Security Audits: Comprehensive security review.</li> </ul>"},{"location":"websockets/","title":"WebSocket Support","text":"<p>BustAPI provides high-performance WebSocket support powered by Rust (Actix-Web). It offers two implementation strategies: Standard (flexible Python handling) and Turbo (zero-overhead Rust handling).</p>"},{"location":"websockets/#configuration-limits","title":"Configuration &amp; Limits","text":"<p>To protect your application from abuse (DDoS, OOM), you can configure limits using <code>WebSocketConfig</code>.</p> Python<pre><code>from bustapi import BustAPI, WebSocketConfig\n\napp = BustAPI()\n\n# Define protection limits\nconfig = WebSocketConfig(\n    max_message_size=1024 * 64,  # 64 KB Max Message Size (RAM Protection)\n    rate_limit=50,               # 50 Messages/Second (CPU Protection)\n    heartbeat_interval=10,       # Send Ping every 10 seconds\n    timeout=30                   # Disconnect if silence for 30 seconds\n)\n</code></pre>"},{"location":"websockets/#1-standard-websockets-appwebsocket","title":"1. Standard WebSockets (<code>@app.websocket</code>)","text":"<p>Use this for complex logic where you need Python libraries (database access, AI models, complex parsing).</p> Python<pre><code>@app.websocket(\"/ws/chat\", config=config)\nasync def chat_handler(ws):\n    # 'ws' acts as an async iterator\n    async for message in ws:\n        # Process in Python (Hit GIL)\n        response = f\"You said: {message}\"\n        await ws.send(response)\n</code></pre> <ul> <li>Pros: Full Python flexibility.</li> <li>Cons: Limited by Python GIL (~5k-10k msgs/sec per core).</li> </ul>"},{"location":"websockets/#2-turbo-websockets-appturbo_websocket","title":"2. Turbo WebSockets (<code>@app.turbo_websocket</code>) \ud83d\ude80","text":"<p>Use this for high-throughput scenarios like ECHO servers, broadcasting, or simple relays where Python processing isn't strictly necessary for every message.</p> Python<pre><code># Messages are handled entirely in Rust!\n# Prefix: Prepended to every message automatically.\n@app.turbo_websocket(\"/ws/echo\", response_prefix=\"Echo: \", config=config)\ndef turbo_echo():\n    pass \n</code></pre> <ul> <li>Pros: Zero GIL overhead, 100k+ msgs/sec, ultra-low latency.</li> <li>Cons: Logic is limited to predefined Rust handlers (currently Echo/Broadcast).</li> </ul>"},{"location":"websockets/#performance-comparison-handshakessec","title":"Performance Comparison (Handshakes/sec)","text":"<p>BustAPI handles connections significantly faster than Python-native ASGI frameworks because the handshake upgrade happens in Rust threads.</p> Framework Implementation Handshakes/sec Efficiency BustAPI Rust + Python ~12,000+ \ud83d\ude80 High Flask/Quart Python ~400-500 Low FastAPI Python (ASGI) ~250 Low <p>Note: Enabling <code>rate_limit</code> in <code>WebSocketConfig</code> has negligible performance impact as it is enforced in Rust.</p>"},{"location":"websockets/#scaling-guide","title":"Scaling Guide","text":"<ul> <li>CPU: Use <code>rate_limit</code> to prevent a single client from monopolizing the CPU.</li> <li>RAM: Use <code>max_message_size</code> to prevent large payloads from crashing the server.</li> <li>Concurrency: To handle &gt;10k concurrent connections, ensure your OS file descriptor limits (<code>ulimit -n</code>) are raised.</li> </ul>"},{"location":"websockets/#complete-example","title":"Complete Example","text":"<p>Check out the comprehensive WebSocket demo which includes: *   Secure Configuration (Limits) *   Standard Echo *   Broadcast Chat *   Turbo Routes</p> <p>Run it locally: Bash<pre><code>python examples/websockets_demo.py\n</code></pre></p>"},{"location":"advanced/async/","title":"Async Support","text":"<p>Python's <code>async/await</code> syntax allows for cooperative multitasking, which is ideal for I/O-bound web applications. BustAPI runs on an asynchronous event loop powered by Rust.</p>"},{"location":"advanced/async/#async-handlers","title":"Async Handlers","text":"<p>Defining an async handler is as simple as adding the <code>async</code> keyword.</p> Python<pre><code>import asyncio\n\n@app.route(\"/sleep\")\nasync def sleep():\n    await asyncio.sleep(1)\n    return \"Woke up!\"\n</code></pre>"},{"location":"advanced/async/#when-to-use-async","title":"When to use Async?","text":"<p>Use Async for:</p> <ul> <li>Database queries (using async drivers like <code>motor</code> or <code>asyncpg</code>).</li> <li>Calling external APIs (using <code>httpx</code> or <code>aiohttp</code>).</li> <li>File I/O.</li> </ul> <p>Avoid specific blocking calls</p> <p>Do not use blocking calls like <code>time.sleep()</code> or standard <code>requests.get()</code> inside an async route. This will block the entire event loop and freeze your server.</p>"},{"location":"advanced/async/#background-tasks","title":"Background Tasks","text":"<p>Sometimes you want to perform an action after returning a response, like sending an email. BustAPI provides <code>BackgroundTasks</code> for this.</p> Python<pre><code>from bustapi import BackgroundTasks\n\ndef send_email(email: str, message: str):\n    # Simulated email sending\n    print(f\"Sending email to {email}\")\n\n@app.post(\"/signup\")\ndef signup(email: str, tasks: BackgroundTasks):\n    tasks.add_task(send_email, email, \"Welcome!\")\n    return {\"status\": \"User created, email scheduled\"}\n</code></pre>"},{"location":"advanced/async/#mixing-sync-and-async","title":"Mixing Sync and Async","text":"<p>BustAPI is smart enough to handle both. Standard synchronous functions are run in a thread pool to avoid blocking the async event loop.</p>"},{"location":"advanced/blueprints/","title":"Blueprints","text":"<p>As your application grows, putting everything in one file becomes unmanageable. Blueprints allow you to organize your code into reusable modules.</p>"},{"location":"advanced/blueprints/#the-concept","title":"The Concept","text":"<p>A Blueprint is like a mini-application. It can have its own routes, templates, and static files. However, it cannot run on its own; it must be registered with a <code>BustAPI</code> application.</p>"},{"location":"advanced/blueprints/#defining-a-blueprint","title":"Defining a Blueprint","text":"<p>File: routes/auth.py</p> Python<pre><code>from bustapi import Blueprint\n\n# Create the blueprint\nauth_bp = Blueprint(\"auth\", url_prefix=\"/auth\")\n\n@auth_bp.route(\"/login\")\ndef login():\n    return \"Login Page\"\n\n@auth_bp.route(\"/logout\")\ndef logout():\n    return \"Logout Page\"\n</code></pre>"},{"location":"advanced/blueprints/#registering-a-blueprint","title":"Registering a Blueprint","text":"<p>File: app.py</p> Python<pre><code>from bustapi import BustAPI\nfrom routes.auth import auth_bp\n\napp = BustAPI()\n\n# Register the blueprint\napp.register_blueprint(auth_bp)\n\n# Logic is now served at /auth/login and /auth/logout\n</code></pre>"},{"location":"advanced/blueprints/#recommended-structure","title":"Recommended Structure","text":"<p>For medium-sized projects, we recommend a package-based structure.</p> Text Only<pre><code>/myproject\n    __init__.py\n    app.py\n    /blueprints\n        __init__.py\n        auth.py\n        admin.py\n        api.py\n    /static\n    /templates\n</code></pre>"},{"location":"advanced/dependency_injection/","title":"Dependency Injection","text":"<p>Dependency Injection (DI) is a design pattern that allows you to decouple components. BustAPI borrows the <code>Depends</code> system from FastAPI to make this extremely easy.</p>"},{"location":"advanced/dependency_injection/#why-use-di","title":"Why use DI?","text":"<ul> <li>Reusability: Write logic once (like extracting a token), use it everywhere.</li> <li>Testing: Easily override dependencies during tests.</li> <li>Clean Code: Minimize boilerplate in your view functions.</li> </ul>"},{"location":"advanced/dependency_injection/#basic-usage","title":"Basic Usage","text":"Python<pre><code>from bustapi import Depends\n\n# A reusable dependency\ndef get_query_params(q: str = None, limit: int = 100):\n    return {\"q\": q, \"limit\": limit}\n\n@app.route(\"/items\")\ndef items(params: dict = Depends(get_query_params)):\n    # BustAPI calls get_query_params() and injects the result\n    return params\n</code></pre>"},{"location":"advanced/dependency_injection/#dependency-graph","title":"Dependency Graph","text":"<p>Dependencies can depend on other dependencies. BustAPI resolves the graph and caches the results per request.</p> Python<pre><code>def get_token(x_token: str = Header(...)):\n    if x_token != \"secret\":\n        abort(400)\n    return x_token\n\ndef get_user_from_token(token: str = Depends(get_token)):\n    # This won't run if get_token fails/aborts\n    return User.find(token=token)\n\n@app.route(\"/me\")\ndef me(user = Depends(get_user_from_token)):\n    return user\n</code></pre>"},{"location":"advanced/deployment/","title":"Deployment","text":"<p>BustAPI uses a high-performance Rust Actix-web server built-in. Unlike Flask, you do not need a separate WSGI server like Gunicorn to get production-ready performance.</p>"},{"location":"advanced/deployment/#running-in-production","title":"Running in Production","text":"<p>You can run your BustAPI app directly.</p> Bash<pre><code># Provide port/host via arguments or env vars\npython app.py\n</code></pre> <p>However, for robust process management (restarts, logging, multiple workers), usage of a process manager is recommended.</p>"},{"location":"advanced/deployment/#using-systemd","title":"Using Systemd","text":"<p>Create a unit file <code>/etc/systemd/system/myapp.service</code>:</p> INI<pre><code>[Unit]\nDescription=My BustAPI App\nAfter=network.target\n\n[Service]\nUser=www-data\nWorkingDirectory=/var/www/myapp\nExecStart=/var/www/myapp/venv/bin/python app.py\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"advanced/deployment/#alternative-servers","title":"Alternative Servers","text":"<p>While the built-in Rust server is the most optimized for BustAPI, you can also run your application with standard ASGI or WSGI servers.</p>"},{"location":"advanced/deployment/#uvicorn-asgi","title":"Uvicorn (ASGI)","text":"<p>BustAPI provides an <code>asgi_app</code> entry point compatible with Uvicorn and other ASGI servers.</p> Bash<pre><code># Install uvicorn\npip install uvicorn\n\n# Run using the CLI\nuvicorn main:app.asgi_app --interface asgi3\n</code></pre> <p>Or programmatically:</p> Python<pre><code>if __name__ == \"__main__\":\n    app.run(server=\"uvicorn\")\n</code></pre>"},{"location":"advanced/deployment/#gunicorn-wsgi","title":"Gunicorn (WSGI)","text":"<p>For traditional deployments, you can use Gunicorn. BustAPI behaves as a standard WSGI application.</p> Bash<pre><code># Install gunicorn\npip install gunicorn\n\n# Run using the CLI\ngunicorn main:app\n</code></pre> <p>Or programmatically:</p> Python<pre><code>if __name__ == \"__main__\":\n    app.run(server=\"gunicorn\")\n</code></pre>"},{"location":"advanced/middleware/","title":"Middleware","text":"<p>Middleware allows you to hook into the request-response lifecycle. You can inspect requests before they reach your code, or modify responses before they are sent to the client.</p>"},{"location":"advanced/middleware/#request-hooks","title":"Request Hooks","text":"<p>The simplest way to implement middleware-like logic is using the <code>before_request</code> and <code>after_request</code> decorators.</p>"},{"location":"advanced/middleware/#appbefore_request","title":"@app.before_request","text":"<p>Runs before the view function. If it returns a value, the request handling stops there and that value is used as the response.</p> Python<pre><code>from bustapi import request, abort\n\n@app.before_request\ndef check_api_key():\n    if request.path.startswith(\"/api/\"):\n        key = request.headers.get(\"X-API-Key\")\n        if not key:\n            abort(401)\n</code></pre>"},{"location":"advanced/middleware/#appafter_request","title":"@app.after_request","text":"<p>Runs after the view function. It receives the response object, must modify it, and return it.</p> Python<pre><code>@app.after_request\ndef add_security_headers(response):\n    response.headers[\"X-Content-Type-Options\"] = \"nosniff\"\n    return response\n</code></pre>"},{"location":"advanced/middleware/#wsgi-middleware","title":"WSGI Middleware","text":"<p>Because BustAPI is WSGI compatible, you can wrapping the <code>app.wsgi_app</code> with any standard WSGI middleware.</p> Python<pre><code>from werkzeug.middleware.proxy_fix import ProxyFix\n\napp.wsgi_app = ProxyFix(app.wsgi_app, x_for=1, x_proto=1)\n</code></pre>"},{"location":"advanced/security/","title":"Security","text":"<p>BustAPI 0.3.0 introduces a dedicated Security extension to handle common protection mechanisms.</p>"},{"location":"advanced/security/#initialization","title":"Initialization","text":"Python<pre><code>from bustapi import BustAPI, Security\n\napp = BustAPI()\nsecurity = Security(app)\n</code></pre>"},{"location":"advanced/security/#rate-limiting","title":"Rate Limiting","text":"<p>Rate limiting is backed by a Rust implementation using the Token Bucket algorithm, making it extremely fast.</p> Python<pre><code>from bustapi import RateLimit\n\nlimiter = RateLimit(app)\n\n@app.route(\"/api/fast\")\n@limiter.limit(\"100/minute\")\ndef fast_api():\n    return \"This route is limited to 100 requests per minute\"\n</code></pre> <p>You can define limits per second, minute, hour, or day.</p>"},{"location":"advanced/security/#cors-cross-origin-resource-sharing","title":"CORS (Cross-Origin Resource Sharing)","text":"<p>Enable CORS to allow browsers to make requests from other domains.</p> Python<pre><code># Enable CORS for all origins\nsecurity.enable_cors()\n\n# Or restrict it\nsecurity.enable_cors(origins=[\"https://myapp.com\"], methods=[\"GET\", \"POST\"])\n</code></pre>"},{"location":"advanced/security/#security-headers","title":"Security Headers","text":"<p>Automatically add headers to protect against XSS, clickjacking, and more.</p> Python<pre><code># Enables: X-Frame-Options, X-XSS-Protection, X-Content-Type-Options\nsecurity.enable_secure_headers()\n\n# Also enables Strict-Transport-Security (HSTS)\nsecurity.enable_secure_headers(hsts=True)\n</code></pre>"},{"location":"advanced/validation/","title":"Validation","text":"<p>Validating incoming data is critical for security and stability. BustAPI includes a robust validation system based on strict types.</p>"},{"location":"advanced/validation/#the-struct-class","title":"The <code>Struct</code> Class","text":"<p>Define your data schemas by subclassing <code>Struct</code> and using the special types provided by <code>bustapi.safe</code>.</p> <p>Supported Types</p> <ul> <li><code>String</code></li> <li><code>Integer</code></li> <li><code>Float</code></li> <li><code>Boolean</code></li> <li><code>Array(Type)</code>: List of items</li> </ul>"},{"location":"advanced/validation/#example-schema","title":"Example Schema","text":"Python<pre><code>from bustapi.safe import Struct, String, Integer, Array\n\nclass Address(Struct):\n    street: String\n    city: String\n    zip: Integer\n\nclass User(Struct):\n    name: String\n    age: Integer\n    tags: Array(String)\n    address: Address  # Nested Struct!\n</code></pre>"},{"location":"advanced/validation/#using-in-routes","title":"Using in Routes","text":"<p>Simply type-hint your route parameter. BustAPI handles parsing, validation, and error reporting (422 Unprocessable Entity) automatically.</p> Python<pre><code>from bustapi import Body\n\n@app.post(\"/users\")\ndef create_user(user: User = Body(...)):\n    # If we get here, 'user' is guaranteed to be valid\n    # user.address.city is accessible directly\n    return {\"message\": \"User valid\"}\n</code></pre>"},{"location":"user-guide/authentication/","title":"Session Authentication","text":"<p>Flask-Login style session-based authentication for BustAPI.</p>"},{"location":"user-guide/authentication/#quick-start","title":"Quick Start","text":"Python<pre><code>from bustapi import BustAPI\nfrom bustapi.auth import LoginManager, login_user, logout_user, current_user, login_required\n\napp = BustAPI(__name__)\napp.secret_key = \"your-secret-key\"\n\nlogin_manager = LoginManager(app)\n\n@login_manager.user_loader\ndef load_user(user_id):\n    return User.query.get(user_id)\n\n@app.get(\"/dashboard\")\n@login_required\ndef dashboard():\n    return f\"Hello, {current_user.username}!\"\n</code></pre>"},{"location":"user-guide/authentication/#loginmanager","title":"LoginManager","text":""},{"location":"user-guide/authentication/#setup","title":"Setup","text":"Python<pre><code>from bustapi.auth import LoginManager\n\nlogin_manager = LoginManager(app)\n\n# Configure\nlogin_manager.login_view = \"auth.login\"  # Redirect for @login_required\nlogin_manager.login_message = \"Please log in first\"\n</code></pre>"},{"location":"user-guide/authentication/#user-loader","title":"User Loader","text":"<p>Register a function to load users by ID:</p> Python<pre><code>@login_manager.user_loader\ndef load_user(user_id):\n    return User.query.get(user_id)\n</code></pre>"},{"location":"user-guide/authentication/#user-classes","title":"User Classes","text":""},{"location":"user-guide/authentication/#baseuser","title":"BaseUser","text":"<p>Mixin for user models with sensible defaults:</p> Python<pre><code>from bustapi.auth import BaseUser\n\nclass User(db.Model, BaseUser):\n    id = Column(Integer, primary_key=True)\n    username = Column(String)\n    password_hash = Column(String)\n\n    # BaseUser provides:\n    # - is_authenticated = True\n    # - is_active = True\n    # - is_anonymous = False\n    # - get_id() returns str(self.id)\n</code></pre>"},{"location":"user-guide/authentication/#anonuser","title":"AnonUser","text":"<p>Placeholder for unauthenticated users:</p> Python<pre><code>from bustapi.auth import AnonUser\n\nanon = AnonUser()\nanon.is_authenticated  # False\nanon.is_anonymous      # True\n</code></pre>"},{"location":"user-guide/authentication/#login-logout","title":"Login / Logout","text":"Python<pre><code>from bustapi.auth import login_user, logout_user\n\n@app.post(\"/login\")\ndef login(request):\n    user = User.authenticate(request.form[\"email\"], request.form[\"password\"])\n    if user:\n        login_user(user, remember=True)  # remember=True for persistent session\n        return redirect(\"/dashboard\")\n    return \"Invalid credentials\", 401\n\n@app.get(\"/logout\")\ndef logout():\n    logout_user()\n    return redirect(\"/\")\n</code></pre>"},{"location":"user-guide/authentication/#current_user","title":"current_user","text":"<p>Access the logged-in user anywhere:</p> Python<pre><code>from bustapi.auth import current_user\n\n@app.get(\"/profile\")\ndef profile():\n    if current_user.is_authenticated:\n        return f\"Welcome, {current_user.username}\"\n    return \"Please log in\"\n</code></pre>"},{"location":"user-guide/authentication/#decorators","title":"Decorators","text":""},{"location":"user-guide/authentication/#login_required","title":"@login_required","text":"<p>Require authenticated user:</p> Python<pre><code>from bustapi.auth import login_required\n\n@app.get(\"/dashboard\")\n@login_required\ndef dashboard():\n    return f\"Hello, {current_user.username}!\"\n</code></pre>"},{"location":"user-guide/authentication/#fresh_login_required","title":"@fresh_login_required","text":"<p>Require fresh session (from login, not remember-me):</p> Python<pre><code>from bustapi.auth import fresh_login_required\n\n@app.post(\"/change-password\")\n@fresh_login_required\ndef change_password():\n    # Sensitive operation - require recent login\n    ...\n</code></pre>"},{"location":"user-guide/authentication/#roles_required","title":"@roles_required","text":"<p>Require specific role(s):</p> Python<pre><code>from bustapi.auth import roles_required\n\n@app.get(\"/admin\")\n@roles_required(\"admin\")\ndef admin_panel():\n    return \"Admin only\"\n\n@app.get(\"/moderator\")\n@roles_required(\"admin\", \"moderator\")\ndef mod_panel():\n    return \"Admin or moderator\"\n</code></pre>"},{"location":"user-guide/authentication/#permission_required","title":"@permission_required","text":"<p>Require specific permission(s):</p> Python<pre><code>from bustapi.auth import permission_required\n\n@app.post(\"/delete\")\n@permission_required(\"delete_posts\")\ndef delete_post():\n    ...\n</code></pre>"},{"location":"user-guide/authentication/#password-hashing","title":"Password Hashing","text":"<p>Argon2id password hashing (OWASP recommended):</p> Python<pre><code>from bustapi.auth import hash_password, verify_password\n\n# Hash a password\nhashed = hash_password(\"user_password\")\n# Returns: \"$argon2id$v=19$m=65536,t=3,p=4$...\"\n\n# Verify password\nif verify_password(\"user_password\", hashed):\n    print(\"Password correct!\")\n</code></pre>"},{"location":"user-guide/authentication/#token-generation","title":"Token Generation","text":"<p>Secure random tokens for CSRF, password reset, etc:</p> Python<pre><code>from bustapi.auth import generate_token, generate_csrf_token\n\n# Generate token (default 32 bytes = 64 hex chars)\ntoken = generate_token()\n\n# Generate CSRF token\ncsrf = generate_csrf_token()\n</code></pre>"},{"location":"user-guide/authentication/#csrf-protection","title":"CSRF Protection","text":"Python<pre><code>from bustapi.auth import CSRFProtect\n\ncsrf = CSRFProtect(app)\n\n# In templates:\n# &lt;input type=\"hidden\" name=\"csrf_token\" value=\"{{ csrf_token() }}\"&gt;\n\n# Exempt a route\n@csrf.exempt\n@app.post(\"/api/webhook\")\ndef webhook():\n    ...\n</code></pre>"},{"location":"user-guide/authentication/#complete-example","title":"Complete Example","text":"Python<pre><code>from bustapi import BustAPI, redirect\nfrom bustapi.auth import (\n    LoginManager, BaseUser, login_user, logout_user, current_user,\n    login_required, roles_required, hash_password, verify_password\n)\n\napp = BustAPI(__name__)\napp.secret_key = \"your-secret\"\nlogin_manager = LoginManager(app)\n\nclass User(BaseUser):\n    def __init__(self, id, username, password_hash, role=\"user\"):\n        self.id = id\n        self.username = username\n        self.password_hash = password_hash\n        self.role = role\n\n    @property\n    def roles(self):\n        return [self.role]\n\nUSERS = {\"1\": User(\"1\", \"admin\", hash_password(\"secret\"), \"admin\")}\n\n@login_manager.user_loader\ndef load_user(user_id):\n    return USERS.get(user_id)\n\n@app.post(\"/login\")\ndef login(request):\n    user = USERS.get(\"1\")\n    if verify_password(request.form[\"password\"], user.password_hash):\n        login_user(user)\n        return redirect(\"/dashboard\")\n    return \"Invalid\", 401\n\n@app.get(\"/dashboard\")\n@login_required\ndef dashboard():\n    return f\"Hello, {current_user.username}!\"\n\n@app.get(\"/admin\")\n@roles_required(\"admin\")\ndef admin():\n    return \"Admin panel\"\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"user-guide/caching/","title":"Response Caching","text":"<p>BustAPI v0.8.0 introduces built-in response caching for turbo routes.</p>"},{"location":"user-guide/caching/#quick-start","title":"Quick Start","text":"Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.turbo_route(\"/\", cache_ttl=60)  # Cache for 60 seconds\ndef hello():\n    return {\"message\": \"Hello, World!\"}\n</code></pre> <p>With <code>cache_ttl=60</code>, the response is cached for 60 seconds. Subsequent requests return instantly without calling your handler.</p>"},{"location":"user-guide/caching/#performance-impact","title":"Performance Impact","text":"Route Type RPS Latency Regular <code>@app.route()</code> ~25,000 ~2ms Turbo <code>@app.turbo_route()</code> ~30,000 ~1.5ms Cached Turbo ~140,000 &lt;1ms <p>Caching provides a 5x performance boost for frequently accessed endpoints.</p>"},{"location":"user-guide/caching/#use-cases","title":"Use Cases","text":""},{"location":"user-guide/caching/#static-content","title":"Static Content","text":"Python<pre><code>@app.turbo_route(\"/about\", cache_ttl=3600)  # 1 hour\ndef about():\n    return {\"company\": \"BustAPI Inc.\", \"version\": \"0.8.0\"}\n</code></pre>"},{"location":"user-guide/caching/#configuration-endpoints","title":"Configuration Endpoints","text":"Python<pre><code>@app.turbo_route(\"/config\", cache_ttl=300)  # 5 minutes\ndef config():\n    return load_config_from_database()\n</code></pre>"},{"location":"user-guide/caching/#health-checks","title":"Health Checks","text":"Python<pre><code>@app.turbo_route(\"/health\", cache_ttl=5)  # 5 seconds\ndef health():\n    return {\"status\": \"healthy\", \"db\": check_db()}\n</code></pre>"},{"location":"user-guide/caching/#cache-behavior","title":"Cache Behavior","text":"<ul> <li>Per-route caching: Each endpoint has its own cache</li> <li>URL-based keys: Different URLs = different cache entries</li> <li>TTL-based expiration: Cache automatically expires after <code>cache_ttl</code> seconds</li> <li>In-memory storage: Fast, no external dependencies</li> </ul>"},{"location":"user-guide/caching/#path-parameters","title":"Path Parameters","text":"<p>Path parameters create separate cache entries:</p> Python<pre><code>@app.turbo_route(\"/users/&lt;int:id&gt;\", cache_ttl=60)\ndef get_user(id: int):\n    return {\"id\": id, \"name\": f\"User {id}\"}\n</code></pre> <ul> <li><code>/users/1</code> \u2192 cached separately from <code>/users/2</code></li> <li>Each user ID has its own 60-second cache</li> </ul>"},{"location":"user-guide/caching/#when-not-to-use-caching","title":"When NOT to Use Caching","text":"<p>\u274c Don't cache when:</p> <ul> <li>Response depends on request body (POST data)</li> <li>Response is user-specific (authentication required)</li> <li>Data changes frequently</li> <li>Response is large (memory concern)</li> </ul> <p>For these cases, use regular <code>@app.route()</code>:</p> Python<pre><code>@app.route(\"/users/me\")  # No caching - user-specific\ndef get_current_user():\n    user = get_user_from_session()\n    return {\"id\": user.id, \"name\": user.name}\n</code></pre>"},{"location":"user-guide/caching/#cache-invalidation","title":"Cache Invalidation","text":"<p>Currently, cached responses expire automatically based on <code>cache_ttl</code>. Manual cache invalidation is planned for future releases.</p> <p>Workaround: Use a short <code>cache_ttl</code> for data that changes frequently:</p> Python<pre><code>@app.turbo_route(\"/stats\", cache_ttl=10)  # Refresh every 10 seconds\ndef stats():\n    return get_live_stats()\n</code></pre>"},{"location":"user-guide/caching/#best-practices","title":"Best Practices","text":"<ol> <li>Start with short TTLs (5-30 seconds) and increase based on needs</li> <li>Use caching for read-heavy endpoints (homepage, about, config)</li> <li>Don't cache authenticated endpoints unless using separate auth middleware</li> <li>Monitor memory usage if caching large responses</li> </ol> Python<pre><code># Good: Frequently accessed, rarely changes\n@app.turbo_route(\"/\", cache_ttl=60)\ndef home():\n    return {\"message\": \"Welcome!\"}\n\n# Good: Expensive computation, OK to be slightly stale\n@app.turbo_route(\"/leaderboard\", cache_ttl=300)\ndef leaderboard():\n    return compute_leaderboard()\n\n# Bad: User-specific data\n@app.turbo_route(\"/dashboard\", cache_ttl=60)  # \u274c Don't do this\ndef dashboard():\n    return get_user_dashboard()  # Different per user!\n</code></pre>"},{"location":"user-guide/cli/","title":"CLI Tool","text":"<p>BustAPI includes a powerful command-line interface (CLI) to help you scaffold new projects, run development servers, and inspect your application.</p>"},{"location":"user-guide/cli/#installation","title":"Installation","text":"<p>The CLI is installed automatically with <code>pip install bustapi</code>.</p>"},{"location":"user-guide/cli/#commands","title":"Commands","text":""},{"location":"user-guide/cli/#new-create-project","title":"<code>new</code> - Create Project","text":"<p>Scaffold a new BustAPI project with best practices.</p> Bash<pre><code>bustapi new &lt;project_name&gt; [options]\n</code></pre> <p>Options:</p> <ul> <li><code>--uv</code>: Initialize project with <code>uv</code> package manager (creates <code>pyproject.toml</code>).</li> <li><code>--poetry</code>: Initialize project with <code>poetry</code> package manager (creates <code>pyproject.toml</code>).</li> <li>Default (no flag): Uses <code>pip</code> and creates <code>requirements.txt</code>.</li> </ul> <p>Example: Bash<pre><code>bustapi new my-api --uv\ncd my-api\nuv sync\n</code></pre></p>"},{"location":"user-guide/cli/#run-development-server","title":"<code>run</code> - Development Server","text":"<p>Run the development server with hot-reloading enabled.</p> Bash<pre><code>bustapi run [file]\n</code></pre> <ul> <li>file: Path to your application file (default: <code>main.py</code> or <code>app.py</code>).</li> </ul> <p>Features: - Native Rust hot-reloading (extremely fast). - Automatic discovery of app entry point.</p>"},{"location":"user-guide/cli/#routes-list-routes","title":"<code>routes</code> - List Routes","text":"<p>Inspect all registered routes in your application.</p> Bash<pre><code>bustapi routes [file]\n</code></pre>"},{"location":"user-guide/cli/#info-system-info","title":"<code>info</code> - System Info","text":"<p>Display system information and debugging details.</p> Bash<pre><code>bustapi info\n</code></pre>"},{"location":"user-guide/database/","title":"Database Integration","text":"<p>You can integrate any database library (SQLAlchemy, SQLite, etc.) using request hooks.</p>"},{"location":"user-guide/database/#request-hooks","title":"Request Hooks","text":"<ul> <li><code>before_request</code>: Runs before the route handler.</li> <li><code>after_request</code>: Runs after the route handler.</li> <li><code>teardown_request</code>: Runs after the request is finished (even if an error occurred).</li> </ul>"},{"location":"user-guide/database/#sqlite-example","title":"SQLite Example","text":"Python<pre><code>import sqlite3\nfrom bustapi import BustAPI, g\n\napp = BustAPI()\n\ndef get_db():\n    if 'db' not in g:\n        g.db = sqlite3.connect('test.db')\n    return g.db\n\n@app.teardown_request\ndef close_db(exception=None):\n    db = g.pop('db', None)\n    if db is not None:\n        db.close()\n\n@app.route(\"/users\")\ndef list_users(request):\n    db = get_db()\n    cur = db.cursor()\n    cur.execute(\"SELECT * FROM users\")\n    return {\"users\": cur.fetchall()}\n</code></pre>"},{"location":"user-guide/documentation/","title":"Auto-Documentation","text":"<p>BustAPI can automatically generate OpenAPI (Swagger) documentation for your API.</p>"},{"location":"user-guide/documentation/#setup","title":"Setup","text":"Python<pre><code>from bustapi import BustAPI, BustAPIDocs\n\napp = BustAPI()\ndocs = BustAPIDocs(app)  # Initialize docs extension\n\n@app.route(\"/item/&lt;int:id&gt;\")\ndef get_item(request, id: int):\n    \"\"\"\n    Get an item by ID.\n    ---\n    responses:\n      200:\n        description: Item found\n    \"\"\"\n    return {\"id\": id}\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"user-guide/documentation/#accessing-docs","title":"Accessing Docs","text":"<ul> <li>Swagger UI: <code>/docs</code></li> <li>ReDoc: <code>/redoc</code></li> <li>OpenAPI JSON: <code>/openapi.json</code></li> </ul>"},{"location":"user-guide/error_handling/","title":"Error Handling","text":"<p>Applications fail. BustAPI allows you to handle these failures gracefully.</p>"},{"location":"user-guide/error_handling/#handling-http-errors","title":"Handling HTTP Errors","text":"<p>You can use the <code>errorhandler</code> decorator to catch specific HTTP status codes.</p> Python<pre><code>from bustapi import render_template\n\n@app.errorhandler(404)\ndef page_not_found(e):\n    return render_template(\"404.html\"), 404\n</code></pre>"},{"location":"user-guide/error_handling/#handling-exceptions","title":"Handling Exceptions","text":"<p>You can also handle generic Python exceptions.</p> Python<pre><code>@app.errorhandler(ValueError)\ndef handle_value_error(e):\n    return {\"error\": \"Invalid value provided\", \"details\": str(e)}, 400\n</code></pre>"},{"location":"user-guide/error_handling/#raising-errors","title":"Raising Errors","text":"<p>You can stop request processing and return an error manually using <code>abort()</code>.</p> Python<pre><code>from bustapi import abort\n\n@app.route(\"/admin\")\ndef admin():\n    if not is_admin():\n        abort(403, description=\"Admins only!\")\n    return \"Welcome Admin\"\n</code></pre>"},{"location":"user-guide/jwt/","title":"JWT Authentication","text":"<p>BustAPI provides Rust-backed JWT (JSON Web Token) authentication for high-performance token-based auth.</p>"},{"location":"user-guide/jwt/#quick-start","title":"Quick Start","text":"Python<pre><code>from bustapi import BustAPI, JWT, jwt_required\n\napp = BustAPI(__name__)\napp.secret_key = \"your-secret-key\"\n\njwt = JWT(app)\n\n@app.post(\"/login\")\ndef login():\n    token = jwt.create_access_token(identity=\"user123\")\n    return {\"access_token\": token}\n\n@app.get(\"/protected\")\n@jwt_required\ndef protected(request):\n    return {\"user\": request.jwt_identity}\n</code></pre>"},{"location":"user-guide/jwt/#jwt-class","title":"JWT Class","text":""},{"location":"user-guide/jwt/#initialization","title":"Initialization","text":"Python<pre><code>jwt = JWT(\n    app,\n    secret_key=\"optional-override\",  # Uses app.secret_key if not set\n    algorithm=\"HS256\",               # HS256, HS384, HS512\n    access_expires=900,              # 15 minutes (seconds)\n    refresh_expires=2592000,         # 30 days (seconds)\n)\n</code></pre>"},{"location":"user-guide/jwt/#creating-tokens","title":"Creating Tokens","text":"Python<pre><code># Access token (for API access)\ntoken = jwt.create_access_token(\n    identity=\"user123\",\n    expires_delta=3600,      # Custom expiry (optional)\n    fresh=True,              # Fresh token from login\n    claims={\"role\": \"admin\"} # Custom claims (optional)\n)\n\n# Refresh token (for getting new access tokens)\nrefresh = jwt.create_refresh_token(identity=\"user123\")\n</code></pre>"},{"location":"user-guide/jwt/#decoding-tokens","title":"Decoding Tokens","text":"Python<pre><code># Decode and verify\nclaims = jwt.decode_token(token)\n# Returns: {\"identity\": \"user123\", \"exp\": ..., \"iat\": ..., \"type\": \"access\"}\n\n# Verify only (returns bool)\nis_valid = jwt.verify_token(token)\n\n# Get identity (works on expired tokens)\nidentity = jwt.get_identity(token)\n</code></pre>"},{"location":"user-guide/jwt/#decorators","title":"Decorators","text":""},{"location":"user-guide/jwt/#jwt_required","title":"@jwt_required","text":"<p>Require valid JWT in <code>Authorization: Bearer &lt;token&gt;</code> header.</p> Python<pre><code>@app.get(\"/protected\")\n@jwt_required\ndef protected(request):\n    user_id = request.jwt_identity  # User identity from token\n    claims = request.jwt_claims     # All token claims\n    return {\"user\": user_id}\n</code></pre>"},{"location":"user-guide/jwt/#jwt_optional","title":"@jwt_optional","text":"<p>Allow both authenticated and anonymous access.</p> Python<pre><code>@app.get(\"/feed\")\n@jwt_optional\ndef feed(request):\n    if request.jwt_identity:\n        return {\"feed\": \"personalized for \" + request.jwt_identity}\n    return {\"feed\": \"public\"}\n</code></pre>"},{"location":"user-guide/jwt/#fresh_jwt_required","title":"@fresh_jwt_required","text":"<p>Require fresh token (from login, not from refresh).</p> Python<pre><code>@app.post(\"/change-password\")\n@fresh_jwt_required\ndef change_password(request):\n    # Only allow with fresh token\n    return {\"status\": \"password changed\"}\n</code></pre>"},{"location":"user-guide/jwt/#jwt_refresh_token_required","title":"@jwt_refresh_token_required","text":"<p>Require refresh token for the token refresh endpoint.</p> Python<pre><code>@app.post(\"/refresh\")\n@jwt_refresh_token_required\ndef refresh(request):\n    new_token = jwt.create_access_token(\n        identity=request.jwt_identity,\n        fresh=False  # Refreshed tokens are not fresh\n    )\n    return {\"access_token\": new_token}\n</code></pre>"},{"location":"user-guide/jwt/#complete-example","title":"Complete Example","text":"Python<pre><code>from bustapi import BustAPI, JWT, jwt_required, jwt_refresh_token_required\nfrom bustapi.auth import hash_password, verify_password\n\napp = BustAPI(__name__)\napp.secret_key = \"super-secret-key\"\njwt = JWT(app)\n\n# User database\nUSERS = {\"admin\": hash_password(\"secret\")}\n\n@app.post(\"/login\")\ndef login(request):\n    data = request.json\n    if verify_password(data[\"password\"], USERS.get(data[\"username\"], \"\")):\n        return {\n            \"access_token\": jwt.create_access_token(data[\"username\"]),\n            \"refresh_token\": jwt.create_refresh_token(data[\"username\"]),\n        }\n    return {\"error\": \"Invalid credentials\"}, 401\n\n@app.post(\"/refresh\")\n@jwt_refresh_token_required\ndef refresh(request):\n    return {\"access_token\": jwt.create_access_token(request.jwt_identity, fresh=False)}\n\n@app.get(\"/me\")\n@jwt_required\ndef me(request):\n    return {\"user\": request.jwt_identity}\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"user-guide/jwt/#algorithms","title":"Algorithms","text":"Algorithm Description HS256 HMAC-SHA256 (default, recommended) HS384 HMAC-SHA384 HS512 HMAC-SHA512"},{"location":"user-guide/jwt/#error-responses","title":"Error Responses","text":"<ul> <li><code>401 Missing Authorization header</code> - No token provided</li> <li><code>401 Token has expired</code> - Token past expiration</li> <li><code>401 Invalid token signature</code> - Wrong secret key</li> <li><code>401 Fresh token required</code> - Need fresh token for sensitive ops</li> </ul>"},{"location":"user-guide/logging/","title":"Request Logging","text":"<p>Starting from v0.9.0, BustAPI uses a high-performance Rust-native logging system.</p>"},{"location":"user-guide/logging/#features","title":"Features","text":"<ul> <li>Zero-Overhead: Logging happens in the Rust backend, avoiding Python GIL contention.</li> <li>Full Coverage: Captures ALL requests, including:<ul> <li>\u2705 Static Files (<code>/static/video.mp4</code>)</li> <li>\u2705 404 Not Found errors</li> <li>\u2705 Browser Probes (HEAD requests)</li> <li>\u2705 Fast Rust Routes</li> </ul> </li> <li>Accurate Latency: Timings are measured in Rust with microsecond precision.</li> <li>Color Coded: Easy to read output with status code coloring.</li> </ul>"},{"location":"user-guide/logging/#configuration","title":"Configuration","text":"<p>Logging is enabled automatically when you run in debug mode:</p> Python<pre><code>app.run(debug=True)\n</code></pre>"},{"location":"user-guide/logging/#custom-logging","title":"Custom Logging","text":"<p>You can use the <code>bustapi.logging</code> module to customize the logger or use it manually:</p> Python<pre><code>from bustapi import BustAPI, logging\n\n# Create a logger instance\nlogger = logging.BustAPILogger(use_colors=True)\n\n# Log a custom request (useful for testing)\nlogger.log_request(\"GET\", \"/custom-path\", 200, 0.005)\n</code></pre>"},{"location":"user-guide/logging/#output-format","title":"Output Format","text":"<p>The log format is structured as:</p> <p><code>TIME | STATUS | LATENCY | METHOD | PATH</code></p> <p>Example: Text Only<pre><code>14:32:01 | 200     | 45.120\u03bcs   | GET     | /\n14:32:02 | 206     | 1.250ms    | GET     | /static/video.mp4\n14:32:05 | 404     | 12.000\u03bcs   | GET     | /invalid\n</code></pre></p> <ul> <li>Status Colors:<ul> <li><code>2xx</code>: Green</li> <li><code>3xx</code>: Cyan</li> <li><code>4xx</code>: Yellow</li> <li><code>5xx</code>: Red</li> <li><code>HEAD</code>: Magenta</li> </ul> </li> </ul>"},{"location":"user-guide/multiprocessing/","title":"Multiprocessing","text":"<p>BustAPI v0.8.0 introduces native multiprocessing for maximum throughput.</p>"},{"location":"user-guide/multiprocessing/#quick-start","title":"Quick Start","text":"Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.route(\"/\")\ndef hello():\n    return {\"message\": \"Hello, World!\"}\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\", port=5000, workers=4)\n</code></pre> <p>With <code>workers=4</code>, BustAPI spawns 4 worker processes that share the same port.</p>"},{"location":"user-guide/multiprocessing/#platform-behavior","title":"Platform Behavior","text":"Platform Mode Performance How It Works \ud83d\udc27 Linux Multiprocessing 100,000+ RPS <code>SO_REUSEPORT</code> kernel load balancing \ud83c\udf4e macOS Single-process ~35,000 RPS Actix-web internal threading \ud83e\ude9f Windows Single-process ~17,000 RPS Actix-web internal threading"},{"location":"user-guide/multiprocessing/#linux-so_reuseport","title":"Linux: SO_REUSEPORT","text":"<p>On Linux, BustAPI uses <code>SO_REUSEPORT</code> for true multiprocessing:</p> Text Only<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Linux Kernel               \u2502\n\u2502      SO_REUSEPORT Load Balancer      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u25bc         \u25bc         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Worker1\u2502 \u2502Worker2\u2502 \u2502Worker3\u2502\n\u2502 PID:1 \u2502 \u2502 PID:2 \u2502 \u2502 PID:3 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Each worker is a separate process, eliminating Python's GIL bottleneck.</p>"},{"location":"user-guide/multiprocessing/#how-it-works","title":"How It Works","text":"<ol> <li>Parent process calls <code>app.run(workers=4)</code></li> <li>BustAPI <code>fork()</code>s 4 child processes</li> <li>Each child binds to the same port with <code>SO_REUSEPORT</code></li> <li>Linux kernel distributes incoming connections across workers</li> <li>Signal handlers gracefully shut down all workers on <code>Ctrl+C</code></li> </ol>"},{"location":"user-guide/multiprocessing/#worker-count-recommendations","title":"Worker Count Recommendations","text":"Use Case Workers Notes Development 1 <code>debug=True</code> ignores <code>workers</code> Production (4 cores) 4 Match CPU cores Production (8 cores) 8 Scale with cores High I/O workloads 2x cores If I/O-bound Python<pre><code>import os\n\n# Auto-detect CPU count\nworkers = os.cpu_count() or 4\n\napp.run(workers=workers)\n</code></pre>"},{"location":"user-guide/multiprocessing/#performance-benchmarks","title":"Performance Benchmarks","text":"<p>Tested on Python 3.13, Intel i5-8365U (8 cores), Ubuntu Linux:</p> Workers RPS (Root) RPS (JSON) 1 ~25,000 ~20,000 2 ~50,000 ~45,000 4 ~100,000 ~90,000 8 ~105,000 ~99,000 <p>Performance scales linearly up to CPU core count.</p>"},{"location":"user-guide/multiprocessing/#graceful-shutdown","title":"Graceful Shutdown","text":"<p>BustAPI handles <code>SIGINT</code> (Ctrl+C) and <code>SIGTERM</code> gracefully:</p> Text Only<pre><code>\ud83d\ude80 Starting 4 worker processes (Linux SO_REUSEPORT)...\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    BustAPI v0.8.0                    \u2502\n\u2502                http://0.0.0.0:5000                   \u2502\n\u2502  Handlers ............. 5   Processes ........... 1  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n^C\n\ud83d\uded1 Shutting down workers...\n</code></pre> <p>All workers receive termination signals and exit cleanly.</p>"},{"location":"user-guide/multiprocessing/#macos-windows-fallback","title":"macOS / Windows Fallback","text":"<p>On macOS and Windows, <code>workers</code> parameter is still respected but uses Actix-web's internal thread pool:</p> Text Only<pre><code>[BustAPI] Starting server on macOS (single process mode)...\n[BustAPI] Note: Multi-worker mode requires SO_REUSEPORT (Linux only)\n</code></pre> <p>The server still runs efficiently using async I/O and threading, but without separate process isolation.</p>"},{"location":"user-guide/multiprocessing/#best-practices","title":"Best Practices","text":"<ol> <li>Always deploy on Linux for production</li> <li>Set workers = CPU cores for optimal performance</li> <li>Use <code>debug=False</code> in production</li> <li>Monitor memory - each worker uses ~25-40MB</li> </ol> Python<pre><code>if __name__ == \"__main__\":\n    import os\n\n    app.run(\n        host=\"0.0.0.0\",\n        port=5000,\n        workers=os.cpu_count() or 4,\n        debug=False\n    )\n</code></pre>"},{"location":"user-guide/request_data/","title":"Request Data","text":"<p>Data enters your application from the client in various forms: URL parameters, query strings, headers, and body payloads. BustAPI provides multiple ways to access this data.</p>"},{"location":"user-guide/request_data/#the-request-proxy","title":"The <code>request</code> Proxy","text":"<p>For direct, imperative access to request data, use the global <code>request</code> object. This object is a thread-safe proxy that always points to the incoming request for the current context.</p>"},{"location":"user-guide/request_data/#query-strings","title":"Query Strings","text":"<p>To access URL parameters like <code>?key=value</code>, use the <code>args</code> attribute:</p> Python<pre><code>from bustapi import request\n\n@app.route(\"/search\")\ndef search():\n    search_query = request.args.get(\"q\", \"\")\n    return f\"Searching for {search_query}\"\n</code></pre>"},{"location":"user-guide/request_data/#form-data","title":"Form Data","text":"<p>To access form data from POST requests, use the <code>form</code> attribute:</p> Python<pre><code>@app.route(\"/login\", methods=[\"POST\"])\ndef login():\n    username = request.form.get(\"username\")\n    password = request.form.get(\"password\")\n    return \"Logged in\"\n</code></pre>"},{"location":"user-guide/request_data/#json-data","title":"JSON Data","text":"<p>For API endpoints receiving JSON, use <code>get_json()</code>:</p> Python<pre><code>@app.post(\"/api/data\")\ndef api_data():\n    data = request.get_json()\n    # data is now a standard Python dictionary\n    return data\n</code></pre> <p>Error Handling</p> <p>If the request content-type is <code>application/json</code> but the body is malformed, <code>get_json()</code> may raise a 404/400 error. You can pass <code>force=True</code> to ignore content-type.</p>"},{"location":"user-guide/request_data/#async-body-access","title":"Async Body Access","text":"<p>For high-performance applications, you might want to stream the request body or read it asynchronously.</p> Python<pre><code>@app.post(\"/upload\")\nasync def upload():\n    # Read entire body as bytes (async)\n    body_bytes = await request.body()\n\n    # Or stream chunks (async generator)\n    async for chunk in request.stream():\n        process_chunk(chunk)\n\n    return \"Uploaded\"\n</code></pre>"},{"location":"user-guide/request_data/#type-safe-injection-recommended","title":"Type-Safe Injection (Recommended)","text":"<p>While the <code>request</code> object is useful, the \"modern\" way to handle data in BustAPI is via function parameter injection. This provides auto-validation and clearer function signatures.</p>"},{"location":"user-guide/request_data/#query-injection-and-keyword-arguments","title":"Query Injection and Keyword Arguments","text":"<p>You can accept query parameters directly as keyword arguments in your handler function. BustAPI automatically maps <code>?limit=10</code> to the <code>limit</code> argument.</p> Python<pre><code>@app.get(\"/items\")\ndef items(limit=10, offset=0):\n    # ?limit=20&amp;offset=5 -&gt; limit=\"20\", offset=\"5\" (strings)\n    return f\"Items {limit}, {offset}\"\n</code></pre> <p>For type safety and validation, use the <code>Query</code> marker (similar to FastAPI):</p> Python<pre><code>from bustapi import Query\n\n@app.get(\"/validated\")\ndef validated(limit: int = Query(10)):\n    # limit and offset are automatically converted to int\n    return f\"Showing items {offset} to {offset + limit}\"\n</code></pre>"},{"location":"user-guide/request_data/#body-injection","title":"Body Injection","text":"<p>Use the <code>Body</code> marker to declare a JSON body requirement.</p> Python<pre><code>from bustapi import Body\n\n@app.post(\"/items\")\ndef create_item(payload: dict = Body(...)):\n    # payload is guaranteed to be a dict\n    # '...' means it is required\n    return payload\n</code></pre>"},{"location":"user-guide/responses/","title":"Responses","text":"<p>BustAPI is flexible in what you can return from a view function. It attempts to smartly convert your return values into a valid HTTP response.</p>"},{"location":"user-guide/responses/#return-types","title":"Return Types","text":""},{"location":"user-guide/responses/#strings","title":"Strings","text":"<p>Returning a plain string results in a <code>text/html</code> response with a <code>200 OK</code> status.</p> Python<pre><code>@app.route(\"/\")\ndef home():\n    return \"&lt;h1&gt;Hello&lt;/h1&gt;\"\n</code></pre>"},{"location":"user-guide/responses/#dictionaries-lists","title":"Dictionaries &amp; Lists","text":"<p>Returning a dictionary or a list will automatically serialize it to JSON and set the content-type to <code>application/json</code>.</p> Python<pre><code>@app.route(\"/api/user\")\ndef user():\n    return {\"name\": \"Alice\", \"role\": \"admin\"}\n</code></pre>"},{"location":"user-guide/responses/#tuples","title":"Tuples","text":"<p>You can return a tuple in the form <code>(body, status)</code> or <code>(body, status, headers)</code>.</p> Python<pre><code>@app.route(\"/created\")\ndef created():\n    return {\"id\": 123}, 201, {\"X-Custom-Header\": \"foo\"}\n</code></pre>"},{"location":"user-guide/responses/#the-make_response-helper","title":"The <code>make_response</code> Helper","text":"<p>For more control, wrap your content in a <code>Response</code> object.</p> Python<pre><code>from bustapi import make_response\n\n@app.route(\"/xml\")\ndef xml():\n    resp = make_response(\"&lt;data&gt;value&lt;/data&gt;\")\n</code></pre>"},{"location":"user-guide/responses/#streaming-responses","title":"Streaming Responses","text":"<p>You can stream data to the client using <code>StreamingResponse</code>. This supports both synchronous and asynchronous iterators.</p> Python<pre><code>from bustapi import StreamingResponse\nimport asyncio\n\nasync def fast_stream():\n    for i in range(10):\n        yield f\"Chunk {i}\\n\"\n        await asyncio.sleep(0.1)\n\n@app.route(\"/stream\")\nasync def stream():\n    return StreamingResponse(fast_stream(), media_type=\"text/plain\")\n</code></pre>"},{"location":"user-guide/responses/#redirections-errors","title":"Redirections &amp; Errors","text":"<p>Use the helper functions <code>redirect</code> and <code>abort</code>.</p> Python<pre><code>from bustapi import redirect, abort\n\n@app.route(\"/old\")\ndef old():\n    return redirect(\"/new\")\n\n@app.route(\"/protected\")\ndef protected():\n    if not is_authorized:\n        abort(403, \"You shall not pass!\")\n</code></pre>"},{"location":"user-guide/routing/","title":"Routing","text":"<p>Routing is the mechanism of mapping a URL to a specific function in your code. BustAPI uses a high-performance Radix Tree implementation in Rust for this purpose.</p>"},{"location":"user-guide/routing/#basic-registration","title":"Basic Registration","text":"<p>Use the <code>@app.route()</code> decorator to register a view function.</p> Python<pre><code>@app.route(\"/\")\ndef index():\n    return \"Index Page\"\n\n@app.route(\"/hello\")\ndef hello():\n    return \"Hello Page\"\n</code></pre> <p>Trailing Slashes</p> <p>BustAPI uses strict path routing by default (<code>redirect_slashes=True</code>). If a user requests <code>/hello/</code> but you defined <code>/hello</code>, they will be automatically redirected to <code>/hello</code> (and vice-versa).</p> <p>You can disable this behavior when initializing the app: Python<pre><code>app = BustAPI(redirect_slashes=False)\n</code></pre></p>"},{"location":"user-guide/routing/#variable-rules","title":"Variable Rules","text":"<p>You can capture parts of the URL as variables. The variable part is marked with <code>&lt;variable_name&gt;</code>.</p> Python<pre><code>@app.route(\"/user/&lt;username&gt;\")\ndef show_user(username):\n    # username is passed as a string\n    return f\"User: {username}\"\n</code></pre>"},{"location":"user-guide/routing/#type-converters","title":"Type Converters","text":"<p>You can enforce types directly in the URL rule. If the type match fails, BustAPI returns a 404 automatically.</p> Converter Description <code>&lt;string:name&gt;</code> Accepts any text without slashes (default). <code>&lt;int:id&gt;</code> Accepts positive integers only. <code>&lt;float:val&gt;</code> Accepts positive floating point numbers. <code>&lt;path:name&gt;</code> Accepts the rest of the path, including slashes. Python<pre><code>@app.route(\"/post/&lt;int:post_id&gt;\")\ndef show_post(post_id):\n    # post_id is now a python int, not a string!\n    return f\"Post ID: {post_id}\"\n</code></pre>"},{"location":"user-guide/routing/#http-methods","title":"HTTP Methods","text":"<p>Web applications use different HTTP methods for different actions. By default, a route only answers to <code>GET</code>.</p> Python<pre><code>@app.route(\"/login\", methods=[\"GET\", \"POST\"])\ndef login():\n    if request.method == \"POST\":\n        return do_the_login()\n    else:\n        return show_the_login_form()\n</code></pre>"},{"location":"user-guide/routing/#shorthand-decorators","title":"Shorthand Decorators","text":"<p>BustAPI provides shortcuts for common methods, which are often cleaner to read.</p> Python<pre><code>@app.get(\"/items\")\ndef get_items():\n    return [\"item1\", \"item2\"]\n\n@app.post(\"/items\")\ndef create_item():\n    return \"Created\"\n</code></pre>"},{"location":"user-guide/sessions/","title":"Sessions","text":"<p>BustAPI provides a secure, client-side session implementation. Sessions are stored in signed cookies, meaning the data is stored on the client but cannot be modified without the secret key.</p>"},{"location":"user-guide/sessions/#configuration","title":"Configuration","text":"<p>To use sessions, you must set a <code>secret_key</code> on your application.</p> Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\napp.secret_key = \"your-super-secret-key\"  # Required for sessions\n</code></pre>"},{"location":"user-guide/sessions/#usage","title":"Usage","text":"<p>Access the session object via the <code>session</code> proxy. It behaves like a standard Python directory.</p>"},{"location":"user-guide/sessions/#storing-data","title":"Storing Data","text":"Python<pre><code>from bustapi import session\n\n@app.route(\"/login\", methods=[\"POST\"])\ndef login():\n    # Store data\n    session[\"username\"] = \"alice\"\n    session[\"user_id\"] = 42\n    return \"Logged in\"\n</code></pre>"},{"location":"user-guide/sessions/#retrieving-data","title":"Retrieving Data","text":"Python<pre><code>@app.route(\"/profile\")\ndef profile():\n    user = session.get(\"username\", \"Guest\")\n    return f\"Hello, {user}!\"\n</code></pre>"},{"location":"user-guide/sessions/#removing-data","title":"Removing Data","text":"<p>You can use <code>pop</code> or <code>del</code> to remove items.</p> Python<pre><code>@app.route(\"/logout\")\ndef logout():\n    # Remove specific key\n    session.pop(\"username\", None)\n\n    # Or clear entire session\n    # session.clear()\n\n    return \"Logged out\"\n</code></pre>"},{"location":"user-guide/sessions/#security","title":"Security","text":"<ul> <li>Signed Cookies: Data is visible to the user (base64 encoded) but tamper-proof. Do not store sensitive secrets like passwords directly in the session.</li> <li>Modifications: BustAPI automatically tracks changes to the session dictionary (including <code>pop</code>, <code>clear</code>, etc.) and sends a new <code>Set-Cookie</code> header only when necessary.</li> </ul>"},{"location":"user-guide/sessions/#api-reference","title":"API Reference","text":"<p>The <code>session</code> object supports all standard dictionary methods:</p> <ul> <li><code>session[key] = value</code></li> <li><code>session.get(key, default)</code></li> <li><code>session.pop(key, default)</code></li> <li><code>session.clear()</code></li> <li><code>session.update(dict)</code></li> <li><code>key in session</code></li> </ul>"},{"location":"user-guide/static_files/","title":"Static Files","text":"<p>Web applications often need to serve static files such as CSS, JavaScript, and images.</p>"},{"location":"user-guide/static_files/#configuration","title":"Configuration","text":"<p>By default, BustAPI looks for static files in a <code>static/</code> folder and serves them at <code>/static</code>.</p> Text Only<pre><code>/myapp\n    app.py\n    static/\n        style.css\n</code></pre> <p>You can customize the folder URL:</p> Python<pre><code>app = BustAPI(static_folder=\"assets\", static_url_path=\"/assets\")\n</code></pre>"},{"location":"user-guide/static_files/#serving-files","title":"Serving Files","text":"<p>Just place your files in the static folder. BustAPI handles the rest using its high-performance Rust backend.</p> <p>URL: <code>http://localhost:5000/static/style.css</code></p>"},{"location":"user-guide/static_files/#security","title":"Security","text":"<p>BustAPI's static file handler is written in Rust and includes built-in security features:</p> <ul> <li>Path Traversal Protection: Prevents access to files outside the static folder (e.g., <code>../../etc/passwd</code>).</li> <li>Hidden File Blocking: Automatically blocks access to files starting with <code>.</code> (e.g., <code>.env</code>, <code>.git</code>).</li> </ul> <p>[!WARNING] While BustAPI is secure, never place sensitive files (like database credentials or source code) inside your static folder.</p>"},{"location":"user-guide/templates/","title":"Templates","text":"<p>Generating HTML directly in Python strings is tedious and dangerous (XSS vulnerabilities). BustAPI uses Jinja2, the most popular Python templating engine, for this purpose.</p>"},{"location":"user-guide/templates/#directory-structure","title":"Directory Structure","text":"<p>BustAPI expects a <code>templates</code> folder in the same directory as your application module.</p> Text Only<pre><code>/yourapp\n    app.py\n    /templates\n        base.html\n        index.html\n    /static\n        style.css\n</code></pre>"},{"location":"user-guide/templates/#rendering","title":"Rendering","text":"<p>Use the <code>render_template</code> function. You can pass any number of keyword arguments to be available in the template context.</p> <p><code>render_template</code> returns a standard <code>Response</code> object with <code>Content-Type: text/html</code>, so you can return it directly from your view function.</p> Python<pre><code>from bustapi import render_template\n\n@app.route(\"/hello/&lt;name&gt;\")\ndef hello(name):\n    return render_template('index.html', name=name)\n</code></pre>"},{"location":"user-guide/templates/#template-inheritance","title":"Template Inheritance","text":"<p>The power of Jinja2 comes from inheritance. Define a base layout and extend it.</p>"},{"location":"user-guide/templates/#basehtml","title":"base.html","text":"HTML<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% block content %}{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"user-guide/templates/#indexhtml","title":"index.html","text":"HTML<pre><code>{% extends \"base.html\" %}\n\n{% block title %}Home{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Welcome to my site&lt;/h1&gt;\n{% endblock %}\n</code></pre>"},{"location":"user-guide/templates/#control-structures","title":"Control Structures","text":"<p>Jinja2 supports standard control structures like loops and conditionals.</p>"},{"location":"user-guide/templates/#loops","title":"Loops","text":"<p>Iterate over lists or dictionaries passed to the template.</p> HTML<pre><code>&lt;ul&gt;\n{% for user in users %}\n    &lt;li&gt;{{ user.name }}&lt;/li&gt;\n{% else %}\n    &lt;li&gt;No users found.&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"user-guide/templates/#conditionals","title":"Conditionals","text":"<p>Conditionally render content based on variables.</p> HTML<pre><code>{% if current_user.is_authenticated %}\n    &lt;p&gt;Welcome, {{ current_user.name }}!&lt;/p&gt;\n{% else %}\n    &lt;p&gt;Please log in.&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"user-guide/templates/#filters","title":"Filters","text":"<p>Filters allow you to modify variables for display. They are separated from the variable by a pipe symbol (<code>|</code>).</p> HTML<pre><code>&lt;!-- Capitalize the name --&gt;\n&lt;h1&gt;{{ title|upper }}&lt;/h1&gt;\n\n&lt;!-- Default value if variable is undefined/empty --&gt;\n&lt;p&gt;Bio: {{ bio|default('No bio provided') }}&lt;/p&gt;\n\n&lt;!-- Safe HTML (disable escaping) --&gt;\n&lt;div&gt;{{ unsafe_html_content|safe }}&lt;/div&gt;\n</code></pre>"},{"location":"user-guide/templates/#generating-urls","title":"Generating URLs","text":"<p>Use <code>url_for()</code> to generate URLs for your routes and static files. This ensures your links remain valid even if you change your URL patterns.</p> HTML<pre><code>&lt;!-- Link to a route --&gt;\n&lt;a href=\"{{ url_for('user_profile', id=42) }}\"&gt;View Profile&lt;/a&gt;\n\n&lt;!-- Link to a static file (CSS/JS/Images) --&gt;\n&lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n&lt;script src=\"{{ url_for('static', filename='app.js') }}\"&gt;&lt;/script&gt;\n</code></pre> <p>[!NOTE] Ensure your routes have an <code>endpoint</code> name defined in <code>@app.route(..., endpoint='name')</code> or implicitly use the function name.</p>"},{"location":"user-guide/templates/#including-templates","title":"Including Templates","text":"<p>You can include reusable partials (like headers, footers, or widgets) using <code>{% include %}</code>.</p> HTML<pre><code>&lt;body&gt;\n    {% include 'header.html' %}\n\n    &lt;div class=\"content\"&gt;\n        ...\n    &lt;/div&gt;\n\n    {% include 'footer.html' %}\n&lt;/body&gt;\n</code></pre>"},{"location":"user-guide/turbo-routes/","title":"Turbo Routes","text":"<p>Turbo routes are BustAPI's fastest route type, designed for maximum throughput on simple endpoints.</p>"},{"location":"user-guide/turbo-routes/#overview","title":"Overview","text":"<p>Regular routes go through Python's full request lifecycle: - Request object creation - Context variable setup - Session handling - Middleware execution - Parameter extraction</p> <p>Turbo routes skip all of this. Path parameters are parsed and extracted entirely in Rust (new in v0.9.0) and passed directly to your handler. This results in zero Python-side regex overhead.</p>"},{"location":"user-guide/turbo-routes/#performance","title":"Performance","text":"Route Type Requests/sec Use Case Regular <code>@app.route()</code> ~25,000 Complex endpoints Static <code>@app.turbo_route()</code> ~34,000 Health checks, static data Dynamic <code>@app.turbo_route()</code> ~30,000 Simple lookups by ID Cached <code>@app.turbo_route(cache_ttl=60)</code> ~140,000 Cached responses"},{"location":"user-guide/turbo-routes/#cached-turbo-routes","title":"Cached Turbo Routes","text":"<p>Add <code>cache_ttl</code> for maximum performance:</p> Python<pre><code>@app.turbo_route(\"/\", cache_ttl=60)  # Cache for 60 seconds\ndef home():\n    return {\"message\": \"Hello, World!\"}\n\n@app.turbo_route(\"/config\", cache_ttl=300)  # Cache for 5 minutes\ndef config():\n    return expensive_config_load()\n</code></pre> <p>See Response Caching for details.</p>"},{"location":"user-guide/turbo-routes/#static-turbo-routes","title":"Static Turbo Routes","text":"<p>For endpoints that take no parameters:</p> Python<pre><code>from bustapi import BustAPI\n\napp = BustAPI()\n\n@app.turbo_route(\"/health\")\ndef health():\n    return {\"status\": \"ok\"}\n\n@app.turbo_route(\"/api/version\")\ndef version():\n    return {\"version\": \"1.0.0\", \"api\": \"v1\"}\n</code></pre>"},{"location":"user-guide/turbo-routes/#dynamic-turbo-routes","title":"Dynamic Turbo Routes","text":"<p>For endpoints with path parameters:</p> Python<pre><code># Integer parameter\n@app.turbo_route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):\n    return {\"id\": id, \"name\": f\"User {id}\"}\n\n# String parameter\n@app.turbo_route(\"/greet/&lt;name&gt;\")\ndef greet(name: str):\n    return {\"message\": f\"Hello, {name}!\"}\n\n# Float parameter\n@app.turbo_route(\"/calc/&lt;float:value&gt;\")\ndef double(value: float):\n    return {\"result\": value * 2}\n\n# Multiple parameters\n@app.turbo_route(\"/posts/&lt;int:post_id&gt;/comments/&lt;int:comment_id&gt;\")\ndef get_comment(post_id: int, comment_id: int):\n    return {\"post_id\": post_id, \"comment_id\": comment_id}\n</code></pre>"},{"location":"user-guide/turbo-routes/#supported-types","title":"Supported Types","text":"Type Pattern Example Python Type Integer <code>&lt;int:name&gt;</code> <code>/users/&lt;int:id&gt;</code> <code>int</code> Float <code>&lt;float:name&gt;</code> <code>/calc/&lt;float:value&gt;</code> <code>float</code> String <code>&lt;name&gt;</code> or <code>&lt;str:name&gt;</code> <code>/greet/&lt;name&gt;</code> <code>str</code> Path <code>&lt;path:name&gt;</code> <code>/files/&lt;path:filepath&gt;</code> <code>str</code> (includes <code>/</code>)"},{"location":"user-guide/turbo-routes/#type-validation","title":"Type Validation","text":"<p>If a request doesn't match the expected type, BustAPI returns a 404:</p> Bash<pre><code># Valid request\ncurl http://localhost:5000/users/42\n# {\"id\": 42, \"name\": \"User 42\"}\n\n# Invalid request (string instead of int)\ncurl http://localhost:5000/users/abc\n# 404 Not Found\n</code></pre>"},{"location":"user-guide/turbo-routes/#limitations","title":"Limitations","text":"<p>Turbo routes trade features for speed. They do not support:</p> Feature Available? Alternative Request object \u274c Use regular <code>@app.route()</code> Query parameters \u274c Use regular <code>@app.route()</code> Middleware \u274c Use regular <code>@app.route()</code> Sessions \u274c Use regular <code>@app.route()</code> Authentication \u274c Use regular <code>@app.route()</code> Headers access \u274c Use regular <code>@app.route()</code>"},{"location":"user-guide/turbo-routes/#when-to-use-turbo-routes","title":"When to Use Turbo Routes","text":"<p>\u2705 Good for: - Health check endpoints (<code>/health</code>, <code>/ready</code>, <code>/live</code>) - Simple data lookups (<code>/users/&lt;id&gt;</code>, <code>/products/&lt;id&gt;</code>) - Metrics endpoints (<code>/metrics</code>, <code>/stats</code>) - High-frequency read APIs - Microservice internal APIs</p> <p>\u274c Not suitable for: - Endpoints needing authentication - Form submissions - File uploads - Endpoints using query parameters - Complex business logic</p>"},{"location":"user-guide/turbo-routes/#http-methods","title":"HTTP Methods","text":"<p>Turbo routes support all HTTP methods via the <code>methods</code> parameter:</p> Python<pre><code>@app.turbo_route(\"/items/&lt;int:id&gt;\", methods=[\"GET\"])\ndef get_item(id: int):\n    return {\"id\": id}\n\n@app.turbo_route(\"/items/&lt;int:id&gt;\", methods=[\"DELETE\"])\ndef delete_item(id: int):\n    return {\"deleted\": id}\n</code></pre>"},{"location":"user-guide/turbo-routes/#return-types","title":"Return Types","text":"<p>Turbo routes support these return types:</p> Python<pre><code># Dictionary (\u2192 JSON)\n@app.turbo_route(\"/json\")\ndef json_response():\n    return {\"hello\": \"world\"}\n\n# List (\u2192 JSON array)\n@app.turbo_route(\"/list\")\ndef list_response():\n    return [1, 2, 3]\n\n# String (\u2192 HTML)\n@app.turbo_route(\"/html\")\ndef html_response():\n    return \"&lt;h1&gt;Hello&lt;/h1&gt;\"\n\n# Tuple (body, status, headers)\n@app.turbo_route(\"/custom\")\ndef custom_response():\n    return ({\"data\": 1}, 201, {\"X-Custom\": \"header\"})\n</code></pre>"},{"location":"user-guide/turbo-routes/#big-integers","title":"Big Integers","text":"<p>Turbo routes handle arbitrarily large integers by falling back to Python's <code>int</code>:</p> Python<pre><code>@app.turbo_route(\"/bignum/&lt;int:n&gt;\")\ndef big_number(n: int):\n    return {\"n\": n, \"doubled\": n * 2}\n</code></pre> Bash<pre><code>curl http://localhost:5000/bignum/99999999999999999999\n# {\"n\": 99999999999999999999, \"doubled\": 199999999999999999998}\n</code></pre>"},{"location":"user-guide/turbo-routes/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Use type hints for clarity (even though parsing is done in Rust):    Python<pre><code>@app.turbo_route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):  # Type hint matches route\n    ...\n</code></pre></p> </li> <li> <p>Keep handlers simple - turbo routes are for fast, simple operations:    Python<pre><code># Good\n@app.turbo_route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):\n    return USERS_CACHE.get(id, {\"error\": \"not found\"})\n\n# Bad - too complex, use regular route\n@app.turbo_route(\"/users/&lt;int:id&gt;\")\ndef get_user(id: int):\n    user = db.query(User).filter(User.id == id).first()  # DB query\n    if not user:\n        raise HTTPException(404)\n    return user.to_dict()\n</code></pre></p> </li> <li> <p>Match parameter names between route and handler:    Python<pre><code># Good\n@app.turbo_route(\"/posts/&lt;int:post_id&gt;\")\ndef get_post(post_id: int):  # \u2705 Names match\n    ...\n\n# Bad\n@app.turbo_route(\"/posts/&lt;int:post_id&gt;\")\ndef get_post(id: int):  # \u274c Name mismatch\n    ...\n</code></pre></p> </li> </ol>"},{"location":"user-guide/video-streaming/","title":"Video Streaming &amp; Range Requests","text":"<p>Starting from v0.9.0, BustAPI includes production-ready support for HTTP Range Requests. This enables: - Video Scrubbing: Users can jump to any part of a video instantly. - Resumable Downloads: Large file downloads can be paused and resumed. - Partal Content: Serving only requested byte ranges (HTTP 206).</p> <p>This capability is powered by the Rust backend using <code>actix-files</code>, ensuring zero-copy efficiency.</p>"},{"location":"user-guide/video-streaming/#static-file-streaming","title":"Static File Streaming","text":"<p>Any file served from your <code>static_folder</code> automatically supports range requests.</p> Python<pre><code>from bustapi import BustAPI\n\n# Files in \"static/\" are automatically streamable\napp = BustAPI(static_folder=\"static\")\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"user-guide/video-streaming/#html5-video-example","title":"HTML5 Video Example","text":"<p>HTML<pre><code>&lt;video width=\"640\" height=\"360\" controls&gt;\n    &lt;source src=\"/static/video.mp4\" type=\"video/mp4\"&gt;\n    Your browser does not support the video tag.\n&lt;/video&gt;\n</code></pre> The browser will automatically send <code>Range: bytes=0-</code> headers, and BustAPI will respond with <code>206 Partial Content</code>.</p>"},{"location":"user-guide/video-streaming/#dynamic-file-streaming","title":"Dynamic File Streaming","text":"<p>If you need to serve files dynamically (e.g., protected content, or files outside the static folder), use <code>send_file</code>.</p> Python<pre><code>from bustapi import BustAPI, send_file\n\napp = BustAPI()\n\n@app.route(\"/video/&lt;id&gt;\")\ndef stream_video(id):\n    # Determine file path based on ID\n    file_path = f\"secure_storage/videos/{id}.mp4\"\n\n    # helper `send_file` returns a FileResponse\n    return send_file(file_path, mimetype=\"video/mp4\")\n</code></pre>"},{"location":"user-guide/video-streaming/#fileresponse-objects","title":"<code>FileResponse</code> Objects","text":"<p>You can also use <code>FileResponse</code> directly for more control:</p> Python<pre><code>from bustapi import FileResponse\n\n@app.route(\"/download\")\ndef download_large_file():\n    return FileResponse(\n        path=\"data/dataset.csv\",\n        filename=\"custom_name.csv\",\n        media_type=\"text/csv\",\n        content_disposition_type=\"attachment\"\n    )\n</code></pre>"},{"location":"user-guide/video-streaming/#how-it-works","title":"How It Works","text":"<ol> <li>HEAD Requests: BustAPI automatically handles <code>HEAD</code> requests for all routes. Browns use <code>HEAD</code> to check if a resource supports <code>Accept-Ranges: bytes</code> before sending a <code>Range</code> request.</li> <li>Actix-Files Integration: When a <code>FileResponse</code> is returned, the Rust backend hands off the file descriptor to <code>actix-files::NamedFile</code>, which efficiently handles the seeking and chunking logic at the OS level.</li> <li>Correct Status Codes:<ul> <li><code>200 OK</code>: Full file served.</li> <li><code>206 Partial Content</code>: Byte range request served.</li> <li><code>416 Range Not Satisfiable</code>: Invalid range requested.</li> </ul> </li> </ol>"}]}